{"version":3,"sources":["api/ajax.js","api/index.js","utils/storageutils.js","pages/login/Login.jsx","config/menusConfig.js","commponents/left-nav/left-nav.jsx","commponents/mybutton/MyButton.jsx","commponents/header/header.jsx","commponents/comment-add/index.jsx","commponents/comment-item/index.jsx","commponents/comment-list/index.jsx","pages/home/Home.jsx","pages/category/addCategory.jsx","pages/category/updatCategory.jsx","init/init.js","pages/category/Category.jsx","pages/product/PicturesWall .jsx","pages/product/RichTextEditor.jsx","pages/product/AddUpdateProduct.jsx","pages/product/HomeProduct.jsx","pages/product/DetailProduct.jsx","pages/product/Product.jsx","pages/user/addUser.jsx","pages/user/User.jsx","pages/role/updateRole.jsx","pages/role/Role.jsx","pages/charts/Bar.jsx","pages/charts/Line.jsx","pages/charts/Pie.jsx","pages/admin/admin.jsx","App.js","index.js"],"names":["Myaxios","url","data","method","Promise","resolve","axios","get","params","post","then","res","interceptors","response","use","reqLogin","userInfo","ajax","reqWeather","city","jsonp","err","status","weather","forecast","message","error","reqAddCategory","addcategory","reqAddProduct","productInfo","reqAddrole","addrole","reqAdduser","adduser","reqAddcomment","username","comment","reqCategory","parentId","reqProducts","page","pagesize","reqSearchProducts","searchtype","keyword","reqCategoryInfo","categoryId","reqRoles","role","reqUsers","user","reqRole","roleId","reqComments","reqUpdateCategory","updatecategory","reqUpdateProduct","reqUpdateRole","roleInfo","reqUpdateUser","reqDeleteImg","name","reqRemoveCategory","removecategory","reqRemoveProduct","removeproduct","reqRemoveRole","removerole","reqRemoveUser","removeuser","reqDeleteComment","_id","saveUser","localStorage","setItem","JSON","stringify","getUser","parse","getItem","removeUser","removeItem","Login","handleSubmit","e","preventDefault","props","form","validateFields","values","a","console","log","result","msg","success","StorageUtils","history","push","this","getFieldDecorator","className","Item","rules","min","max","required","prefix","type","style","color","placeholder","htmlType","onClick","block","Component","WrappedNormalLoginForm","create","title","key","icon","public","children","Sider","SubMenu","leftnav","state","menus","getRoleMenus","storageutils","role_id","setState","getMenus","menusconfig","hasAuth","item","includes","find","cItem","pathname","location","map","filter","length","defaultOpenKeys","to","onCollapse","collapsed","defaultSelectedKeys","mode","theme","withRouter","MyButton","confirm","Header","currenTime","Date","toLocaleString","weatherInfo","weatherCity","fengli","getCurrent","timer","setInterval","getWeather","substr","getTitle","menusConfig","forEach","citem","loginOut","onOk","onCancel","clearInterval","high","low","fengxiang","CommentAdd","UserChange","target","value","CommentChange","AddComment","dom","current","AddComments","React","createRef","id","ref","onChange","rows","CommentItem","handleDelete","initComments","User","Storageutils","show","display","comments","undefined","index","Home","reverse","showsize","opacity","width","height","transform","refs","app","handleshow","PubSub","subscribe","DeleteComment","Option","addCategory","setForm","categories","initialValue","updatCategory","BASE_URL","PageSize","content","addvisible","updatevisible","loading","parentName","subCategorys","updateId","columns","dataIndex","render","showupdate","showSubCategory","removeCategory","showCategory","showAdd","category","getCategories","resetFields","handleCancel","updateCategory","categoryName","extra","dataSource","rowKey","bordered","pagination","defaultPageSize","visible","getBase64","file","reject","reader","FileReader","readAsDataURL","onload","onerror","PicturesWall","getImgs","fileList","previewVisible","handlePreview","preview","originFileObj","previewImage","handleChange","newfile","imgs","uid","uploadButton","action","listType","accept","onPreview","footer","alt","src","RichTextEditor","onEditorStateChange","editorState","getdetails","draftToHtml","convertToRaw","getCurrentContent","details","contentBlock","htmlToDraft","contentState","ContentState","createFromBlockArray","contentBlocks","EditorState","createWithContent","createEmpty","editorStyle","border","paddingLeft","wrapperClassName","editorClassName","TextArea","AddUpdateProduct","options","pCategoryId","product","forisLeaf","update","targetOption","findIndex","isLeaf","bool","label","loadData","selectedOptions","setTimeout","handlesubmit","validateFieldsAndScroll","desc","price","goBack","labelCol","sm","span","offset","wrapperCol","addonAfter","changeOnSelect","HomeProduct","products","total","keywords","searchType","removeProduct","getProducts","arr","margin","DetailProduct","name1","name2","getCategory","all","size","dangerouslySetInnerHTML","__html","Product","path","component","exact","addUser","roles","password","phone","showvisible","users","roleName","getData","initRoles","reduce","pre","next","showUpdate","showDeleteConfirm","okText","okType","cancelText","create_time","wrappedComponentRef","TreeNode","updateRole","checkedKeys","getTreeNodes","onCheck","info","treeNodes","nextProps","disabled","checkable","defaultExpandAll","Role","selectedRowKeys","auth_time","getRoles","addRole","auth_name","replace","removeRole","onRow","rowSelection","AddRole","Bar","books","sales","getOption","text","textStyle","legend","tooltip","trigger","xAxis","yAxis","series","getOption2","updata","option","Line","getOption1","Pie","orient","right","top","formatter","roseType","sort","b","getOption3","radius","Footer","Content","admin","document","body","offsetHeight","Category","textAlign","bottom","App","ReactDOM","getElementById"],"mappings":"0UAEe,SAASA,EAAQC,GAA0B,IAAtBC,EAAqB,uDAAhB,GAAGC,EAAa,uDAAN,MAC/C,OAAO,IAAIC,SAAQ,SAAAC,IAEA,QAAXF,EACIG,IAAMC,IAAIN,EAAK,CACfO,OAAON,IAGPI,IAAMG,KAAKR,EAAKC,IAGtBQ,MAAK,SAAAC,GACHN,EAAQM,SAbpBL,IAAMM,aAAaC,SAASC,KAAI,SAAAH,GAAG,OAAEA,EAAIT,Q,sBCI5Ba,EAAW,SAACC,GAAD,OAAYC,EAAK,SAASD,EAAS,SAG9CE,EAAW,SAACC,GACrB,IAAMlB,EAAM,8CAA8CkB,EAC1D,OAAO,IAAIf,SAAQ,SAAAO,GACfS,IAAMnB,EAAI,IAAG,SAASoB,EAAInB,GACtB,GAAiB,MAAdA,EAAKoB,OAAc,CAClB,IAAIC,EAAUrB,EAAKA,KAAKsB,SAAS,GACjCb,EAAIY,QACe,MAAdrB,EAAKoB,OACVG,EAAA,EAAQC,MAAM,4BAGdD,EAAA,EAAQC,MAAM,+CAQjBC,EAAe,SAAAC,GAAW,OAAEX,EAAK,gBAAgBW,EAAY,SAC7DC,EAAc,SAAAC,GAAW,OAAEb,EAAK,eAAea,EAAY,SAC3DC,EAAW,SAAAC,GAAO,OAAEf,EAAK,YAAYe,EAAQ,SAC7CC,EAAW,SAAAC,GAAO,OAAEjB,EAAK,YAAYiB,EAAQ,SAC7CC,EAAc,SAACC,EAASC,GAAV,OAAoBpB,EAAK,qBAAqB,CAACmB,WAASC,WAAS,SAE/EC,EAAY,SAACC,GAAD,OAAYtB,EAAK,iBAAiB,CAACsB,cAC/CC,EAAY,SAACC,EAAKC,GAAN,OAAiBzB,EAAK,gBAAgB,CAACwB,OAAKC,cACxDC,EAAkB,SAACF,EAAKC,EAASE,EAAWC,GAA1B,OAAoC5B,EAAK,kBAAkB,CAACwB,OAAKC,WAASE,aAAWC,aACvGC,EAAiB,SAACC,GAAD,OAAc9B,EAAK,iBAAiB,CAAC8B,gBACtDC,EAAU,SAACC,GAAD,OAAQhC,EAAK,aAAagC,IACpCC,EAAU,SAACC,GAAD,OAAQlC,EAAK,aAAakC,IACpCC,EAAS,SAACC,GAAD,OAAUpC,EAAK,aAAa,CAACoC,YACtCC,EAAa,kBAAIrC,EAAK,mBAGtBsC,EAAkB,SAACC,GAAD,OAAkBvC,EAAK,mBAAmBuC,EAAe,SAC3EC,EAAiB,SAAA3B,GAAW,OAAEb,EAAK,kBAAkBa,EAAY,SACjE4B,EAAc,SAAAC,GAAQ,OAAE1C,EAAK,eAAe0C,EAAS,SACrDC,EAAc,SAAA5C,GAAQ,OAAEC,EAAK,eAAeD,EAAS,SAIrD6C,EAAa,SAAAC,GAAI,OAAE7C,EAAK,gBAAgB,CAAC6C,QAAM,SAC/CC,EAAkB,SAAAC,GAAc,OAAE/C,EAAK,mBAAmB+C,EAAe,SACzEC,EAAiB,SAAAC,GAAa,OAAEjD,EAAK,kBAAkBiD,EAAc,SACrEC,EAAc,SAAAC,GAAU,OAAEnD,EAAK,eAAe,CAACmD,cAAY,SAC3DC,EAAc,SAAAC,GAAU,OAAErD,EAAK,eAAeqD,EAAW,SACzDC,EAAiB,SAAAC,GAAG,OAAEvD,EAAK,wBAAwB,CAACuD,OAAK,SCtDvD,GACXC,SAAS,SAAUzD,GACf0D,aAAaC,QAAQ,WAAWC,KAAKC,UAAU7D,KAEnD8D,QAAQ,WACJ,OAAOF,KAAKG,MAAML,aAAaM,QAAQ,aAAa,OAExDC,WAAW,WACPP,aAAaQ,WAAW,cCJ1BC,G,kNACFC,aAAe,SAAAC,GACXA,EAAEC,iBACF,EAAKC,MAAMC,KAAKC,eAAhB,uCAA+B,WAAOpE,EAAKqE,GAAZ,qBAAAC,EAAA,yDACrBtE,EADqB,uBAEzBuE,QAAQC,IAAI,4BAASH,GAFI,SAGN3E,EAAS2E,GAHH,OAGnBI,EAHmB,OAIzBF,QAAQC,IAAIC,GACLC,EAAiBD,EAAjBC,IAAIzE,EAAawE,EAAbxE,OAAOpB,EAAM4F,EAAN5F,KACN,IAAToB,GACOG,EAAA,EAAQuE,QAAR,UAAmBD,IACnBE,EAAaxB,SAASvE,GACtB,EAAKqF,MAAMW,QAAQC,KAAnB,gBAER1E,EAAA,EAAQC,MAAR,UAAiBqE,IAXM,2CAA/B,oCAAAK,KAAA,iB,wEAkBM,IACCC,EAAsBD,KAAKb,MAAMC,KAAjCa,kBACP,OACI,yBAAKC,UAAU,cACZ,wBAAIA,UAAU,eAAd,6CACA,2BACK,sBAAMC,KAAN,KAEQF,EAAkB,WAAW,CACzBG,MAAM,CACF,CAACC,IAAI,EAAEhF,QAAQ,uBACf,CAACiF,IAAI,GAAGjF,QAAQ,yCAChB,CAACkF,UAAS,EAAKlF,QAAQ,gDAJ/B4E,CAOI,uBACAO,OAAQ,uBAAMC,KAAK,OAAOC,MAAO,CAAEC,MAAO,qBAC1CC,YAAY,2CAKxB,sBAAMT,KAAN,KAEQF,EAAkB,WAAW,CACzBG,MAAM,CACF,CAACG,UAAS,EAAKlF,QAAQ,0CAF/B4E,CAKI,uBACAO,OAAQ,uBAAMC,KAAK,OAAOC,MAAO,CAAEC,MAAO,qBAC1CF,KAAK,WACLG,YAAY,qCAKxB,sBAAMT,KAAN,KACA,uBAAQM,KAAK,UAAUI,SAAS,SAASX,UAAU,oBAAqBY,QAASd,KAAKhB,aAAc+B,OAAK,GAAzG,uB,GA3DAC,cAsELC,GADgB,IAAKC,QAAL,CAAcnC,G,sCC1E9B,IACX,CACIoC,MAAO,eACPC,IAAI,cACJC,KAAM,OACNC,QAAO,GAEX,CACIH,MAAO,eACPC,IAAK,kBACLC,KAAM,WACNE,SAAU,CACN,CACIJ,MAAO,2BACPC,IAAK,kBACLC,KAAM,QAEV,CACIF,MAAO,2BACPC,IAAK,iBACLC,KAAM,UAKlB,CACIF,MAAO,2BACPC,IAAK,cACLC,KAAM,QAEV,CACIF,MAAO,2BACPC,IAAK,cACLC,KAAM,UAGV,CACIF,MAAO,2BACPC,IAAK,gBACLC,KAAM,aACNE,SAAU,CACN,CACIJ,MAAO,qBACPC,IAAK,oBACLC,KAAM,aAEV,CACIF,MAAO,qBACPC,IAAK,qBACLC,KAAM,cAEV,CACIF,MAAO,eACPC,IAAK,oBACLC,KAAM,gBChDdG,G,KAAAA,MACAC,G,KAAAA,QACFC,G,2MACFC,MAAM,CACFC,MAAM,I,EAKVC,a,sBAAe,4BAAAtC,EAAA,yDACX,EAAKxC,KAAO+E,EAAapD,WACtB,EAAK3B,KAAKgF,QAFF,gCAGc/E,EAAQ,EAAKD,KAAKgF,SAHhC,OAGDrC,EAHC,OAIP,EAAK3C,KAAK6E,MAAMlC,EAAO5F,KACvB,EAAKkI,SAAS,CACVJ,MAAM,EAAKK,SAASC,MANjB,uBASP,EAAKF,SAAS,CACVJ,MAAM,EAAKK,SAASC,MAVjB,4C,EAcfC,QAAU,SAACC,GAET,QAAwB,UAArB,EAAKrF,KAAKf,WAAoBoG,EAAKd,SAAQ,EAAKvE,KAAK6E,MAAMS,SAASD,EAAKhB,SAEnEgB,EAAKb,UACLa,EAAKb,SAASe,MAAK,SAAAC,GAAK,OAAE,EAAKxF,KAAK6E,MAAMS,SAASE,EAAMnB,S,EAMpEa,SAAW,SAACL,GAAW,IACXY,EAAa,EAAKrD,MAAMsD,SAAxBD,SACJ,OAAOZ,EAAMc,KAAI,SAAAN,GACb,GAAG,EAAKD,QAAQC,GACZ,OAAIA,EAAKb,UACUa,EAAKb,SAASoB,QAAO,SAAAJ,GAAK,OAAIC,IAAaD,EAAMnB,OACrDwB,SACP,EAAKC,gBAAkBT,EAAKhB,KAEzB,kBAACK,GAAD,CACHL,IAAKgB,EAAKhB,IACVD,MAAO,8BAAM,uBAAMV,KAAM2B,EAAKf,OAAQ,8BAAOe,EAAKjB,SAEjD,EAAKc,SAASG,EAAKb,YAGjB,uBAAMpB,KAAN,CAAWiB,IAAKgB,EAAKhB,KACxB,kBAAC,IAAD,CAAS0B,GAAIV,EAAKhB,KACd,uBAAMX,KAAM2B,EAAKf,OACjB,8BAAOe,EAAKjB,a,EAOxC4B,WAAa,SAAAC,GACT,EAAKhB,SAAS,CAAEgB,e,mFAtDhBhD,KAAK6B,iB,+BAwDC,IACEW,EAAaxC,KAAKb,MAAMsD,SAAxBD,SACR,OACI,kBAAChB,GAAD,KACI,wBACIyB,oBAAqBT,EACrBK,gBAAiB,CAAC7C,KAAK6C,iBACvBK,KAAK,SACLC,MAAM,QAELnD,KAAK2B,MAAMC,Y,GAvEVZ,aA8EPoC,eAAW1B,I,kBCpFL2B,I,+LAGb,OACI,4CAAYrD,KAAKb,MAAjB,CAAwBe,UAAU,mB,GAJRc,cCM9BsC,G,KAAAA,QACKC,GAAb,2MACI5B,MAAQ,CACJ6B,YAAY,IAAIC,MAAOC,iBACvBC,YAAa,GACbxC,MAAO,GACPyC,YAAa,eACbC,OAAO,IANf,EAqBIC,WAAa,WACT,EAAKC,MAAQC,aAAY,WACrB,EAAKhC,SAAS,CACVwB,YAAY,IAAIC,MAAOC,qBAE5B,MA1BX,EA4BIO,WA5BJ,sBA4BiB,gCAAA1E,EAAA,6DACDqE,EAAgB,EAAKjC,MAArBiC,YADC,SAEY9I,EAAW8I,GAFvB,OAEHlE,EAFG,OAITmE,GADKA,EAAQnE,EAARmE,QACSK,OAAO,GAAG,GAGxB,EAAKlC,SAAS,CACV2B,YAAajE,EACbmE,WATK,2CA5BjB,EAwCIM,SAAW,WAAO,IACN3B,EAAa,EAAKrD,MAAMsD,SAAxBD,SACJrB,EAAQ,GASZ,OARAiD,GAAYC,SAAQ,SAACjC,GAEjB,GADII,IAAaJ,EAAKhB,MAAKD,EAAQiB,EAAKjB,OACpCiB,EAAKb,SAAU,CACf,IAAM7B,EAAS0C,EAAKb,SAASe,MAAK,SAAAgC,GAAK,OAAI9B,EAASH,SAASiC,EAAMlD,QAC/D1B,IAAQyB,EAAQzB,EAAOyB,WAI5BA,GAnDf,EAsDIoD,SAAW,WACPjB,GAAQ,CACJnC,MAAO,iCACPqD,KAAM,WACF,EAAKrF,MAAMW,QAAQC,KAAK,WAE5B0E,SALI,WAMAjF,QAAQC,IAAI,cA7D5B,2FASQO,KAAKjD,KAAO+E,EAAapD,UACzBsB,KAAKiE,aACLjE,KAAKmE,aAXb,0CAeQnE,KAAK8D,eAfb,6CAmBQY,cAAc1E,KAAK+D,SAnB3B,+BAiEc,IAAD,EACsC/D,KAAK2B,MAAxC6B,EADH,EACGA,WAAYI,EADf,EACeA,YAAYC,EAD3B,EAC2BA,OAD3B,EAEkC7D,KAAK2B,MAAMgC,YAA1ClD,EAFH,EAEGA,KAAMkE,EAFT,EAESA,KAAMC,EAFf,EAEeA,IAAKC,EAFpB,EAEoBA,UACzB,OACI,yBAAK3E,UAAU,UACX,yBAAKA,UAAU,cACX,8CAAUF,KAAKjD,KAAKf,UACpB,kBAAC,GAAD,CAAU8E,QAASd,KAAKuE,UAAxB,iBAEJ,yBAAKrE,UAAU,iBACX,0BAAMA,UAAU,sBAAsBF,KAAKmE,YAC3C,yBAAKjE,UAAU,uBACX,8BAAOsD,GACNI,EACD,8BAAOnD,GACNoE,EACD,8BAAOhB,GACNc,EANL,IAOMC,SAnF1B,GAA4B5D,aA0FboC,eAAWG,I,qBClGLuB,G,YACnB,WAAY3F,GAAO,IAAD,8BAChB,+CAGAwC,MAAM,CACJ3F,SAAS,GACTC,QAAQ,IANM,EAQhB8I,WAAa,SAAA9F,GACX,EAAK+C,SAAS,CAAChG,SAASiD,EAAE+F,OAAOC,SATnB,EAWhBC,cAAc,SAAAjG,GACZ,EAAK+C,SAAS,CAAC/F,QAAQgD,EAAE+F,OAAOC,SAZlB,EAchBE,WAAW,WAAK,IACPnJ,EAAU,EAAK2F,MAAf3F,SACHC,EAAQ,EAAKmJ,IAAIC,QAAQJ,MAC7B,EAAK9F,MAAMmG,YAAYtJ,EAASC,GAChC,EAAKmJ,IAAIC,QAAQJ,MAAM,GACvB,EAAKjD,SAAS,CACZhG,SAAS,MAlBb,EAAKoJ,IAAIG,IAAMC,YAFC,E,sEAuBN,IACDxJ,EAAUgE,KAAK2B,MAAf3F,SACP,OACE,yBAAKyJ,GAAG,QACN,2DAAkB,2BAAOhF,KAAK,OAAOgF,GAAG,kBAAkBC,IAAK1F,KAAKjD,KAAMkI,MAAOjJ,EAAU2J,SAAU3F,KAAK+E,aAAa,6BACvH,2DAAkB,8BAAUa,KAAK,IAAIF,IAAK1F,KAAKoF,IAAKO,SAAU3F,KAAKkF,gBAA0B,6BAC7F,4BAAQpE,QAASd,KAAKmF,YAAtB,iC,GA9B8BnE,aCGnB6E,I,kNACjBC,aAAc,SAAA1H,GACXD,EAAiBC,GAChB,EAAKe,MAAM4G,gB,wEAEL,IAAD,OACDC,EAAOC,EAAavH,UADnB,EAE6BsB,KAAKb,MAAjCnD,EAFD,EAECA,SAAUC,EAFX,EAEWA,QAASmC,EAFpB,EAEoBA,IACrB8H,EAAyB,UAAlBF,EAAKhK,SAAuB,QAAU,OACjD,OAEI,4BACI,4BAAQkE,UAAU,SAASQ,MAAO,CAAEyF,QAASD,GAAQpF,QAAS,WAAQ,EAAKgF,aAAa1H,KAAxF,4BACI,uBAAG8B,UAAU,QAAO,8BAAOlE,GAA3B,KACA,uBAAGkE,UAAU,YAAYjE,Q,GAdJ+E,c,UCDpB8D,G,iLAGP,IAAD,EACuB9E,KAAKb,MAA5BiH,EADA,EACAA,SAASL,EADT,EACSA,aAChB,OACE,yBAAK7F,UAAU,gBACb,kBAAC,cAAD,KACA,wBAAIQ,MAAO,CAACyF,aAAsBE,IAAdD,EAAS,GAAe,QAAQ,SAApD,8CACA,4BACGA,EAAS1D,KAAI,SAACN,EAAKkE,GAClB,OAAO,kBAAC,GAAD,CAAalF,IAAKkF,EAAOtK,SAAUoG,EAAKpG,SAAUC,QAASmG,EAAKnG,QAASmC,IAAKgE,EAAKhE,IAAK2H,aAAcA,c,GAXnF/E,aCKnBuF,I,kNACjB5E,MAAQ,CACJyE,SAAU,I,EAYdL,a,sBAAa,8BAAAxG,EAAA,sEACQrC,IADR,OACLwC,EADK,QAEF5F,EAAM4F,EAAN5F,QACO,GACN,EAAKkI,SAAS,CACVoE,SAAS,KAGb,EAAKpE,SAAS,CACVoE,SAAStM,EAAK0M,YATjB,2C,EAcblB,Y,uCAAc,WAAOtJ,EAAUC,GAAjB,iBAAAsD,EAAA,sEACOxD,EAAcC,EAASC,GAD9B,OACNyD,EADM,OAEHC,EAAYD,EAAZC,IACK,IADOD,EAARxE,OAEP,EAAK6K,eAEL1K,EAAA,EAAQC,MAAMqE,GANR,2C,0DAWd8G,SAAW,SAACC,EAASC,EAAOC,EAAQC,GAChC,IAAInG,EAAQ,EAAKoG,KAAKC,IAAIrG,MAC1BA,EAAMgG,QAAUA,EAChBhG,EAAMiG,MAAN,UAAiBA,EAAjB,KACAjG,EAAMkG,OAAN,UAAkBA,EAAlB,KACAlG,EAAMmG,UAAN,iBAA4BA,EAA5B,S,EAEJG,WAAa,WACT,IAAId,GAAwB,IAAlB,EAAKvE,MAAMuE,KACrB,EAAKlE,SAAS,CACVkE,SAGiB,OADT,EAAKY,KAAKC,IAAIrG,MAChBkG,OACN,EAAKH,SAAS,IAAK,GAAI,EAAG,GAE1B,EAAKA,SAAS,EAAG,EAAG,EAAG,M,qMAlD3BzG,KAAK+F,e,gJAGLkB,KAAOC,UAAU,SAAUlH,KAAKmH,eAChCnH,KAAKU,MAAQV,KAAK8G,KAAKC,IAAIrG,MAC3BV,KAAKgH,e,+BAiDC,IACEZ,EAAapG,KAAK2B,MAAlByE,SACR,OACI,yBAAKX,GAAG,QACJ,uBAAQ3E,QAASd,KAAKgH,YAAtB,mCACA,yBAAK9G,UAAU,MAAMwF,IAAI,OACrB,yBAAKxF,UAAU,WACX,kBAAC,GAAD,CAAYoF,YAAatF,KAAKsF,cAC9B,kBAAC,GAAD,CAAac,SAAUA,EAAUL,aAAc/F,KAAK+F,sB,GAnE1C/E,c,uDCJ1BoG,G,KAAAA,OAEMC,GAAd,oMAEQrH,KAAKb,MAAMmI,QAAQtH,KAAKb,MAAMC,QAFtC,+BAKc,IACEa,EAAsBD,KAAKb,MAAMC,KAAjCa,kBACDsH,EAAYvH,KAAKb,MAAjBoI,WACP,OACI,2BACI,sBAAMpH,KAAN,KACCF,EAAkB,WAAY,CAC3BuH,aAAa,KADhBvH,CAGG,4BACI,kBAACmH,GAAD,CAAQnC,MAAM,KAAd,4BACCsC,EAAW7E,KAAI,SAAAN,GACZ,OAAO,kBAACgF,GAAD,CAAQnC,MAAO7C,EAAKhE,IAC3BgD,IAAKgB,EAAKhE,KACTgE,EAAK1E,YAOlB,sBAAMyC,KAAN,KACCF,EAAkB,eAAgB,CAC/BG,MAAO,CAAC,CAAEG,UAAU,EAAMlF,QAAS,gDADtC4E,CAEE,uBAAOW,YAAY,sDA7BtC,GAAkCI,aAmCnB,OAAKE,OAAO,GAAZ,CAAgBmG,ICtCjBI,GAAd,oMAEQzH,KAAKb,MAAMmI,QAAQtH,KAAKb,MAAMC,QAFtC,+BAIc,IACEa,EAAsBD,KAAKb,MAAMC,KAAjCa,kBACR,OACI,2BACI,sBAAME,KAAN,KACCF,EAAkB,eAAgB,CAC/BG,MAAO,CAAC,CAAEG,UAAU,EAAMlF,QAAS,gDADtC4E,CAEE,uBAAOW,YAAY,sDAXtC,GAAoCI,aAiBrB,OAAKE,OAAO,GAAZ,CAAgBuG,ICpBlBC,GAAW,YACXC,GAAS,ECMDC,G,2MACjBjG,MAAQ,CACJkG,YAAY,EACZC,eAAe,EACfP,WAAY,GACZQ,SAAS,EACT5L,SAAU,IACV6L,WAAY,GACZC,aAAc,GACdC,SAAU,I,EAKdC,QAAU,CACN,CACIhH,MAAO,2BACPiH,UAAW,QAEf,CACIjH,MAAO,eACPwF,MAAO,IACP0B,OAAQ,SAACvO,GAEL,MAAe,MADE,EAAK6H,MAAMxF,SAEjB,8BACH,kBAAC,GAAD,CAAU2E,QAAS,kBAAM,EAAKwH,WAAWxO,KAAzC,kCACA,kBAAC,GAAD,CAAUgH,QAAS,kBAAM,EAAKyH,gBAAgBzO,KAA9C,kCACA,kBAAC,GAAD,CAAUgH,QAAS,kBAAM,EAAK0H,eAAe1O,KAA7C,6BAGG,8BACH,kBAAC,GAAD,CAAUgH,QAAS,kBAAM,EAAKwH,WAAWxO,KAAzC,kCACA,kBAAC,GAAD,CAAUgH,QAAS,kBAAM,EAAK0H,eAAe1O,KAA7C,4BACA,kBAAC,GAAD,CAAUgH,QAAS,EAAK2H,cAAxB,gC,EASpBC,QAAU,SAACC,GACP,EAAKA,SAAWA,EAChBnJ,QAAQC,IAAI,EAAKkJ,UAGjB,EAAK3G,SAAS,CACV6F,YAAY,K,EAGpBP,QAAU,SAAClI,GACP,EAAKA,KAAOA,G,EAEhBiI,YAAc,WACV,EAAKjI,KAAKC,eAAV,uCAAyB,WAAOpE,EAAKqE,GAAZ,mBAAAC,EAAA,yDAChBtE,EADgB,uBAEjBqE,EAAOlB,IAAM,EAAKuK,SAASvK,IAC3BoB,QAAQC,IAAIH,GAHK,SAKI/D,EAAe+D,GALnB,OAKXI,EALW,OAMTxE,EAAgBwE,EAAhBxE,OAAQyE,EAAQD,EAARC,IACD,IAAXzE,GAEIoE,EAAOnD,WAAa,EAAKwF,MAAMxF,SAC/B,EAAKyM,gBACsB,MAApBtJ,EAAOnD,UACd,EAAKyM,cAAc,KAEvB,EAAK5G,SAAS,CACV6F,YAAY,IAEhBxM,EAAA,EAAQuE,QAAQD,IAEhBtE,EAAA,EAAQC,MAAMqE,GAnBD,2CAAzB,oCAAAK,KAAA,gBAuBA,EAAKZ,KAAKyJ,e,EAEdC,aAAe,SAAA7J,GACXO,QAAQC,IAAI,UACZ,EAAKuC,SAAS,CACV6F,YAAY,EACZC,eAAe,IAEnB,EAAK1I,KAAKyJ,e,EAEdP,WAAa,SAAAK,GACTnJ,QAAQC,IAAI,4BACZD,QAAQC,IAAIkJ,GAEZ,EAAKA,SAAWA,EAChB,EAAK3G,SAAS,CACV8F,eAAe,K,EAGvBiB,eAAiB,SAAA9J,GACb,EAAKG,KAAKC,eAAV,uCAAyB,WAAOpE,EAAKqE,GAAZ,2BAAAC,EAAA,yDAChBtE,EADgB,sBAES,EAAK0N,SAAvBvK,EAFS,EAETA,IAAKjC,EAFI,EAEJA,SACL6M,EAAiB1J,EAAjB0J,aACR1J,EAAOlB,IAAMA,OACQiI,IAAjB2C,EALa,uBAMb3N,EAAA,EAAQC,MAAM,8CAND,0CASI6B,EAAkBmC,GATtB,OASXI,EATW,OAUTxE,EAAgBwE,EAAhBxE,OAAQyE,EAAQD,EAARC,IACD,IAAXzE,GACA,EAAK8G,SAAS,CACV8F,eAAe,EACf3L,SAAUA,IAEdd,EAAA,EAAQuE,QAAQD,GAChB,EAAKiJ,iBAELvN,EAAA,EAAQC,MAAMqE,GAnBD,4CAAzB,oCAAAK,KAAA,gBAwBA,EAAKZ,KAAKyJ,e,EAEdL,e,uCAAiB,WAAOG,GAAP,mBAAApJ,EAAA,sEACQ5B,EAAkBgL,GAD1B,OACPjJ,EADO,OAELxE,EAAiBwE,EAAjBxE,OAAQyE,EAASD,EAATC,IACD,IAAXzE,EACA,EAAK0N,gBAELvN,EAAA,EAAQC,MAAMqE,GANL,2C,wDASjBiJ,c,uCAAgB,WAAOzM,GAAP,qBAAAoD,EAAA,6DACZ,EAAKyC,SAAS,CAAE+F,SAAS,IACzB5L,EAAWA,GAAY,EAAKwF,MAAMxF,SAFtB,SAGSD,EAAYC,GAHrB,OAGNuD,EAHM,OAIZ,EAAKsC,SAAS,CAAE+F,SAAS,IACjB7M,EAAuBwE,EAAvBxE,OAAQyE,EAAeD,EAAfC,IAAK7F,EAAU4F,EAAV5F,KACN,IAAXoB,EACiB,MAAbiB,EACA,EAAK6F,SAAS,CAAEuF,WAAYzN,IAE5B,EAAKkI,SAAS,CAAEiG,aAAcnO,KAGjB,MAAbqC,EACA,EAAK6F,SAAS,CAAEuF,WAAYzN,IAE5B,EAAKkI,SAAS,CAAEiG,aAAcnO,IAElCuB,EAAA,EAAQC,MAAMqE,IAlBN,2C,wDAqBhB4I,gBAAkB,SAACI,GACf,EAAK3G,SAAS,CACV7F,SAAUwM,EAASvK,IACnB4J,WAAYW,EAASjL,OACtB,WACC,EAAKkL,oB,EAGbH,aAAe,WACX,EAAKzG,SAAS,CACV7F,SAAU,IACV6L,WAAY,GACZC,aAAc,KACf,WACC,EAAKW,oB,mFA7JT5I,KAAK4I,kB,+BAgKC,IAAD,EAC+D5I,KAAK2B,MAAjE4F,EADH,EACGA,WAAYQ,EADf,EACeA,QAASE,EADxB,EACwBA,aAAc9L,EADtC,EACsCA,SAAU6L,EADhD,EACgDA,WAC/C7G,EAAqB,MAAbhF,EAAmB,2BAC7B,8BACI,kBAAC,GAAD,CAAU2E,QAASd,KAAKyI,cAAxB,4BACA,uBAAMhI,KAAK,gBACVuH,GAGHiB,EACF,uBAAQxI,KAAK,UAAUK,QAASd,KAAK0I,SACjC,uBAAMjI,KAAK,SACX,2DAGR,OACI,wBAAMU,MAAOA,EAAO8H,MAAOA,EAAOvI,MAAO,CAAEiG,MAAO,SAC9C,wBACIuC,WAAyB,MAAb/M,EAAmBoL,EAAaU,EAC5CE,QAASnI,KAAKmI,QACdgB,OAAO,MACPpB,QAASA,EACTqB,UAAQ,EACRC,WAAY,CAAEC,gBAAiB3B,MAPvC,IASI,wBACIxG,MAAM,iCACNoI,QAASvJ,KAAK2B,MAAMkG,WACpBrD,KAAMxE,KAAKqH,YACX5C,SAAUzE,KAAK8I,cAEf,kBAAC,GAAD,CAAaxB,QAAStH,KAAKsH,QAASC,WAAYA,KAEpD,wBACIpG,MAAM,iCACNoI,QAASvJ,KAAK2B,MAAMmG,cACpBtD,KAAMxE,KAAK+I,eACXtE,SAAUzE,KAAK8I,cAEf,kBAAC,GAAD,CAAexB,QAAStH,KAAKsH,gB,GAnNZtG,a,2DCHrC,SAASwI,GAAUC,GACjB,OAAO,IAAIzP,SAAQ,SAACC,EAASyP,GAC3B,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,cAAcJ,GACrBE,EAAOG,OAAS,kBAAM7P,EAAQ0P,EAAOjK,SACrCiK,EAAOI,QAAU,SAAAzO,GAAK,OAAIoO,EAAOpO,O,IAGhB0O,G,YACnB,WAAY7K,GAAQ,IAAD,uBACjB,4CAAMA,KAkBR8K,QAAU,kBAAM,EAAKtI,MAAMuI,SAASxH,KAAI,SAAAN,GAAI,OAAIA,EAAK1E,SAnBlC,EAoBnBoL,aAAe,kBAAM,EAAK9G,SAAS,CAAEmI,gBAAgB,KApBlC,EAuBnBC,cAvBmB,uCAuBH,WAAMX,GAAN,SAAAlK,EAAA,yDACTkK,EAAK5P,KAAQ4P,EAAKY,QADT,gCAESb,GAAUC,EAAKa,eAFxB,OAEZb,EAAKY,QAFO,cAKd,EAAKrI,SAAS,CACZuI,aAAcd,EAAK5P,KAAO4P,EAAKY,QAC/BF,gBAAgB,IAPJ,2CAvBG,wDAmCnBK,aAnCmB,uCAmCJ,6CAAAjL,EAAA,yDAASkK,EAAT,EAASA,KAAMS,EAAf,EAAeA,SAER,SAAhBT,EAAKvO,OAFI,kBAGWuO,EAAKhP,SAAnBX,EAHG,EAGHA,KAAM6F,EAHH,EAGGA,IACR8K,EAAUP,EAASA,EAAStH,OAAS,GAC3CvH,EAAA,EAAQuE,QAAQD,GAChB8K,EAAQ/M,KAAO5D,EAAK4D,KACpB+M,EAAQ5Q,IAAMC,EAAKD,IAPR,0BAQc,YAAhB4P,EAAKvO,OARH,kCASUuC,EAAagM,EAAK/L,MAT5B,QASLgC,EATK,OAUHxE,EAAgBwE,EAAhBxE,OAAQyE,EAAQD,EAARC,IACD,IAAXzE,GACFG,EAAA,EAAQuE,QAAQD,GAZP,QAeb,EAAKqC,SAAS,CAAEkI,aAfH,4CAnCI,0DAETQ,EAAS,EAAKvL,MAAduL,KACJR,EAAW,GAHE,OAIbQ,IACFR,EAAWQ,EAAKhI,KAAI,SAACN,EAAMkE,GAAP,MAAkB,CACpCqE,KAAMrE,EACN5I,KAAM0E,EACNlH,OAAQ,OACRrB,IAAK6N,GAAWtF,OAGpB,EAAKT,MAAQ,CACXwI,gBAAgB,EAChBI,aAAc,GACdL,YAfe,E,sEAoDT,IAAD,EAC4ClK,KAAK2B,MAAhDwI,EADD,EACCA,eAAgBI,EADjB,EACiBA,aAAcL,EAD/B,EAC+BA,SAChCU,EACJ,6BACE,uBAAMnK,KAAK,SACX,yBAAKP,UAAU,mBAAf,WAGJ,OACE,yBAAKA,UAAU,YACb,wBACE2K,OAAO,gBACPC,SAAS,eACTZ,SAAUA,EACVxM,KAAK,QACLqN,OAAO,UACPC,UAAWhL,KAAKoK,cAChBzE,SAAU3F,KAAKwK,cAGdN,EAAStH,QAAU,EAAI,KAAOgI,GAEjC,wBAAOrB,QAASY,EAAgBc,OAAQ,KAAMxG,SAAUzE,KAAK8I,cAC3D,yBAAKoC,IAAI,UAAUxK,MAAO,CAAEiG,MAAO,QAAUwE,IAAKZ,U,GA5ElBvJ,a,8DCNrBoK,I,mBACjB,WAAYjM,GAAQ,IAAD,uBACf,4CAAMA,KAkBVkM,oBAAsB,SAACC,GACnB,EAAKtJ,SAAS,CACVsJ,iBArBW,EAyBnBC,WAAY,kBAAIC,KAAYC,wBAAa,EAAK9J,MAAM2J,YAAYI,uBAtB5D,IAAMC,EAAU,EAAKxM,MAAMwM,QAC3B,GAAIA,EAAS,CACT,IAAMC,EAAeC,KAAYF,GAC3BG,EAAeC,gBAAaC,qBAAqBJ,EAAaK,eAC9DX,EAAcY,eAAYC,kBAAkBL,GAClD,EAAKnK,MAAQ,CACT2J,oBAGJ,EAAK3J,MAAQ,CACT2J,YAAYY,eAAYE,eAbjB,S,sEA0BT,IACEd,EAAgBtL,KAAK2B,MAArB2J,YACR,OACI,kBAAC,UAAD,CACIA,YAAaA,EACbe,YAAa,CAAEC,OAAQ,oBAAqBC,YAAa,GAAI3F,OAAQ,KACrE4F,iBAAiB,eACjBC,gBAAgB,cAChBpB,oBAAqBrL,KAAKqL,0B,GAnCErK,cCSpC0L,G,IAAAA,SACKC,GAAb,YACI,WAAYxN,GAAQ,IAAD,8BACf,4CAAMA,KAIVwC,MAAQ,CACJiL,QAAS,IANM,EAwBnBhE,cAxBmB,sBAwBH,4CAAArJ,EAAA,sEACSrD,EAAY,KADrB,UACNwD,EADM,OAEJxE,EAAkBwE,EAAlBxE,OAAQpB,EAAU4F,EAAV5F,KACR+S,EAAgB,EAAKC,QAArBD,YACFD,EAAU,EAAKG,UAAUjT,GAAM,GACtB,IAAXoB,EALQ,qBAOJ,EAAK8R,QAA0B,MAAhBH,EAPX,wBAQEI,EAAeL,EAAQtK,MAAK,SAAAF,GAAI,OAAIA,EAAK6C,QAAU4H,KAEnDvG,EAAQsG,EAAQM,WAAU,SAAA9K,GAAI,OAAIA,EAAK6C,QAAUgI,EAAahI,SAVhE,UAWiB/I,EAAY+Q,EAAahI,OAX1C,QAWEvF,EAXF,OAYE5F,EAAiB4F,EAAjB5F,KACS,IADQ4F,EAAXxE,OAGR+R,EAAa1L,SAAW,EAAKwL,UAAUjT,GAAM,GAE7CmT,EAAaE,QAAS,EAE1BP,EAAQtG,GAAS2G,EAnBb,QAqBR,EAAKjL,SAAS,CAAE4K,YArBR,wBAuBRvR,EAAA,EAAQC,MAAM,4BAvBN,4CAxBG,EAmDnByR,UAAY,SAACjT,EAAMsT,GACf,OAAOtT,EAAK4I,KAAI,SAAAN,GAAI,MAAK,CACrB6C,MAAO7C,EAAKhE,IACZiP,MAAOjL,EAAK1E,KACZyP,OAAQC,OAvDG,EA0DnBE,SA1DmB,uCA0DR,WAAMC,GAAN,iBAAAhO,EAAA,6DACD0N,EAAeM,EAAgB,IACxBxF,SAAU,EAFhB,SAGc7L,EAAY+Q,EAAahI,OAHvC,OAGDvF,EAHC,OAIPuN,EAAalF,SAAU,EACvByF,YAAW,WAAO,IACN1T,EAAiB4F,EAAjB5F,KACO,IADU4F,EAAXxE,QAEV+R,EAAa1L,SAAW,EAAKwL,UAAUjT,GAAM,GAC7C,EAAKkI,SAAS,CACV4K,QAAQ,aAAK,EAAKjL,MAAMiL,YAG5BK,EAAaE,QAAS,IAE3B,KAfI,2CA1DQ,wDA4EnBM,aAAe,SAAAxO,GACXA,EAAEC,iBACF,EAAKC,MAAMC,KAAKsO,wBAAhB,uCAAwC,WAAOzS,EAAKqE,GAAZ,iDAAAC,EAAA,yDAC/BtE,EAD+B,oBAE1ByP,EAAO,EAAKA,KAAKrF,QAAQ4E,UACzB0B,EAAU,EAAKA,QAAQtG,QAAQkG,aAC7B7N,EAAgC4B,EAAhC5B,KAAMiQ,EAA0BrO,EAA1BqO,KAAMC,EAAoBtO,EAApBsO,MAEI,KAFGjF,EAAarJ,EAAbqJ,UAEd/F,QAAc,eAGW+F,EAHX,GAGtBhM,EAHsB,YAGVkQ,OAHU,MAGI,IAHJ,IAIpB,eAGyBlE,EAHzB,GAGFkE,EAHE,KAGWlQ,EAHX,MAKDjB,EAAc,CAAEgC,OAAMiQ,OAAMC,QAAOf,cAAalQ,aAAY+N,OAAMiB,WACxEnM,QAAQC,IAAI,2BAAO,EAAKuN,SAEpB,EAAKA,OAlBuB,wBAmB5BtR,EAAY0C,IAAM,EAAK0O,QAAQ1O,IAnBH,UAoBPf,EAAiB3B,GApBV,QAoBtBgE,EApBsB,OAqBpBxE,EAAgBwE,EAAhBxE,OAAQyE,EAAQD,EAARC,IACD,IAAXzE,GACAG,EAAA,EAAQuE,QAAQD,GAChB,EAAKR,MAAMW,QAAQC,KAAK,mBAExB1E,EAAA,EAAQC,MAAMqE,GA1BU,yCA6BPlE,EAAcC,GA7BP,QA6BtBgE,EA7BsB,OA8BpBxE,EAAgBwE,EAAhBxE,OAAQyE,EAAQD,EAARC,IACD,IAAXzE,GACAG,EAAA,EAAQuE,QAAQD,GAChB,EAAKR,MAAMW,QAAQC,KAAK,mBAExB1E,EAAA,EAAQC,MAAMqE,GAnCU,4CAAxC,oCAAAK,KAAA,iBA5EA,EAAK0K,KAAOnF,IAAMC,YAClB,EAAKmG,QAAUpG,IAAMC,YAHN,EADvB,yFAUYxF,KAAKb,MAAMsD,SAASd,OACpB3B,KAAKgN,QAAS,EACdhN,KAAK8M,QAAU9M,KAAKb,MAAMsD,SAASd,MAAMmL,UAEzC9M,KAAKgN,QAAS,EACdhN,KAAK8M,QAAU,MAf3B,0CAmBQ9M,KAAK4I,kBAnBb,+BAyHc,IAAD,EACiE5I,KAAK8M,QAAnEnQ,EADH,EACGA,WAAYgR,EADf,EACeA,KAAMhC,EADrB,EACqBA,QAASjB,EAD9B,EAC8BA,KAAMhN,EADpC,EACoCA,KAAMmP,EAD1C,EAC0CA,YAAae,EADvD,EACuDA,MACpD3N,EAAsBD,KAAKb,MAAMC,KAAjCa,kBACF0I,EAAW,GACG,MAAhBkE,EACAlE,EAAS5I,KAAKpD,GAEdgM,EAAS5I,KAAK8M,EAAalQ,GAE/B,IAAMwE,EACF,8BACI,kBAAC,GAAD,CAAUL,QAASd,KAAKb,MAAMW,QAAQ+N,QAClC,uBAAMpN,KAAK,gBAEf,8BAAOT,KAAKgN,OAAS,uCAAW,yCAYxC,OACI,wBAAM7L,MAAOA,GACT,sBAVe,CACnB2M,SAAU,CACNC,GAAI,CAAEC,KAAM,EAAGC,OAAQ,IAE3BC,WAAY,CACRH,GAAI,CAAEC,KAAM,MAMR,sBAAM7N,KAAN,CAAWkN,MAAO,4BACbpN,EAAkB,OAAQ,CACvBG,MAAO,CAAC,CAAEG,UAAU,EAAMlF,QAAS,qDACnCmM,aAAc9J,GAFjBuC,CAIG,uBAAOW,YAAY,iDAG3B,sBAAMT,KAAN,CAAWkN,MAAO,4BACbpN,EAAkB,OAAQ,CACvBG,MAAO,CAAC,CAAEG,UAAU,EAAMlF,QAAS,qDACnCmM,aAAcmG,GAFjB1N,CAIG,kBAACyM,GAAD,CAAU9L,YAAY,iDAG9B,sBAAMT,KAAN,CAAWkN,MAAO,4BACbpN,EAAkB,QAAS,CACxBG,MAAO,CAAC,CAAEG,UAAU,EAAMlF,QAAS,qDACnCmM,aAAcoG,GAFjB3N,CAIG,uBAAOQ,KAAK,SAASJ,IAAK,EAAGO,YAAY,6CAAUuN,WAAW,aAGtE,sBAAMhO,KAAN,CAAWkN,MAAO,4BACbpN,EAAkB,WAAY,CAC3BG,MAAO,CAAC,CAAEG,UAAU,EAAMlF,QAAS,6BACnCmM,aAAcmB,GAFjB1I,CAIG,wBACI2M,QAAS5M,KAAK2B,MAAMiL,QACpBU,SAAUtN,KAAKsN,SACf3H,SAAU3F,KAAK2F,SACfyI,gBAAc,MAI1B,sBAAMjO,KAAN,CAAWkN,MAAO,4BACd,kBAAC,GAAD,CAAa3H,IAAK1F,KAAK0K,KAAMA,KAAMA,KAEvC,sBAAMvK,KAAN,CAAWkN,MAAO,4BACd,kBAAC,GAAD,CAAgB3H,IAAK1F,KAAK2L,QAASA,QAASA,KAEhD,sBAAMxL,KAAN,KACI,uBAAQM,KAAK,UAAUK,QAASd,KAAKyN,cAArC,uBAlMxB,GAAsCzM,aA0MvB,OAAKE,OAAO,GAAZ,CAAgByL,IC7MxBvF,G,KAAAA,OACciH,G,2MACjB1M,MAAM,CACF2M,SAAS,GACTC,MAAM,EACNC,SAAS,GACTC,WAAW,Q,EAEftG,QAAU,CACN,CACIhH,MAAO,2BACPiH,UAAW,QAEf,CACIjH,MAAO,2BACPiH,UAAW,QAEf,CACIjH,MAAO,2BACPiH,UAAW,QACXC,OAAO,SAACuF,GAAD,sBAAaA,EAAb,YAEX,CACIzM,MAAO,2BACPwF,MAAM,IACN0B,OAAO,SAACyE,GAGJ,OACI,8BACI,kBAAC,GAAD,CAAUhM,QAAS,kBAAI,EAAK3B,MAAMW,QAAQC,KAAK,CAC3CyC,SAAS,wBACTb,MAAM,CACFmL,eAHR,gBAMA,kBAAC,GAAD,CAAUhM,QAAS,kBAAI,EAAK3B,MAAMW,QAAQC,KAAK,CAC3CyC,SAAS,2BACTb,MAAM,CACFmL,eAHR,gBAMC,kBAAC,GAAD,CAAUhM,QAAS,kBAAM,EAAK4N,cAAc5B,KAA5C,oB,EAQrB4B,c,uCAAc,WAAO5B,GAAP,mBAAAvN,EAAA,sEACW1B,EAAiBiP,GAD5B,OACJpN,EADI,OAEFxE,EAAiBwE,EAAjBxE,OAAQyE,EAASD,EAATC,IACD,IAAXzE,GACAG,EAAA,EAAQuE,QAAQD,GAChB,EAAKgP,YAAY,IAEjBtT,EAAA,EAAQC,MAAMqE,GAPR,2C,wDAcdgP,Y,uCAAY,WAAOtS,GAAP,6BAAAkD,EAAA,2DACqB,EAAKoC,MAA3B6M,EADC,EACDA,SAASC,EADR,EACQA,WACZ/O,EAAO,MACR8O,EAHK,gCAISjS,EAAkBF,EAAKsL,GAAS8G,EAAWD,GAJpD,OAIJ9O,EAJI,+CAMUtD,EAAYC,EAAKsL,IAN3B,QAMJjI,EANI,eAQDxE,GARC,EAQgBwE,GAAjBxE,OAAOpB,EARN,EAQMA,KAAK6F,EARX,EAQWA,IACP,IAATzE,GACC,EAAK8G,SAAS,CACVsM,SAASxU,EAAK8U,IACdL,MAAMzU,EAAKyU,QAEflT,EAAA,EAAQuE,QAAQD,IAEhBtE,EAAA,EAAQC,MAAMqE,GAhBV,4C,yIAFRK,KAAK2O,YAAY,K,+BAqBX,IAAD,SACwC3O,KAAK2B,MAA3C2M,EADF,EACEA,SAASC,EADX,EACWA,MAAMC,EADjB,EACiBA,SAASC,EAD1B,EAC0BA,WACzBtN,EACF,8BACI,wBAAQ8D,MAAOwJ,EAAY/N,MAAO,CAACiG,MAAM,KAAMhB,SAAU,SAACV,GAAD,OAAS,EAAKjD,SAAS,CAACyM,WAAWxJ,MACxF,kBAAC,GAAD,CAAQA,MAAM,QAAd,kCACA,kBAAC,GAAD,CAAQA,MAAM,QAAd,mCAEJ,uBACIrE,YAAY,6CACZF,MAAO,CAACiG,MAAM,IAAIkI,OAAO,IACzB5J,MAAOuJ,EACP7I,SAAU,SAAC1G,GAAD,OAAK,EAAK+C,SAAS,CACzBwM,SAASvP,EAAE+F,OAAOC,WAG1B,uBAAQxE,KAAK,UAAUK,QAAS,kBAAI,EAAK6N,YAAY,KAArD,iBAGF1F,EACF,uBAAQxI,KAAK,UAAUK,QAAS,kBAAI,EAAK3B,MAAMW,QAAQC,KAAK,8BACxD,uBAAMU,KAAK,SACX,2DAGR,OAEI,wBAAMU,MAAOA,EAAO8H,MAAOA,GACtB,wBACGC,WAAYoF,EACZnG,QAASnI,KAAKmI,QACdgB,OAAO,MAEPC,UAAQ,EACRC,WAAY,CACRkF,QACAjF,gBAAgB3B,GAChBhC,SAAS3F,KAAK2O,eAV1B,S,GA7G6B3N,a,mBCJlCb,I,YAAAA,MAEc2O,G,2MACjBnN,MAAQ,CACJoN,MAAM,GACNC,MAAM,I,EAMVC,Y,sBAAc,oCAAA1P,EAAA,2DACuB,EAAKJ,MAAMsD,SAASd,MAAMmL,QAApDnQ,EADG,EACHA,WAGU,OAHCkQ,EADR,EACQA,aADR,gCAKenQ,EAAgBC,GAL/B,OAKA+C,EALA,OAMN,EAAKsC,SAAS,CACV+M,MAAMrP,EAAO5F,KAAK4D,OAPhB,wCAUe1D,QAAQkV,IAAI,CAACxS,EAAgBmQ,GAAanQ,EAAgBC,KAVzE,QAUA+C,EAVA,OAWN,EAAKsC,SAAS,CACV+M,MAAMrP,EAAO,GAAG5F,KAAK4D,KACrBsR,MAAMtP,EAAO,GAAG5F,KAAK4D,OAbnB,4C,mFAHVsC,KAAKiP,gB,+BAsBL,IAAM9N,EACF,8BACI,kBAAC,GAAD,CAAUL,QAASd,KAAKb,MAAMW,QAAQ+N,QAClC,uBAAMpN,KAAK,gBAEf,uEANH,EASkCT,KAAKb,MAAMsD,SAASd,MAAMmL,QAA1Da,EATF,EASEA,KAAKhC,EATP,EASOA,QAAQjB,EATf,EASeA,KAAKhN,EATpB,EASoBA,KAAKkQ,EATzB,EASyBA,MATzB,EAUiB5N,KAAK2B,MAApBoN,EAVF,EAUEA,MAAMC,EAVR,EAUQA,MACb,OACI,wBAAM7N,MAAOA,GACT,wBACIgO,KAAK,QACL/F,UAAQ,GAER,kBAACjJ,GAAD,KACI,0BAAMD,UAAU,QAAhB,kCACA,0BAAMA,UAAU,SAASxC,IAE7B,kBAACyC,GAAD,KACI,0BAAMD,UAAU,QAAhB,kCACA,0BAAMA,UAAU,SAASyN,IAE7B,kBAACxN,GAAD,KACI,0BAAMD,UAAU,QAAhB,kCACA,0BAAMA,UAAU,SAAS0N,EAAzB,WAEJ,kBAACzN,GAAD,KACI,0BAAMD,UAAU,QAAhB,kCACA,0BAAMA,UAAU,SACX8O,EAAMD,EAAM,SAAMC,EAAMD,IAGjC,kBAAC5O,GAAD,KACI,0BAAMD,UAAU,QAAhB,kCACA,0BAAMA,UAAU,SAERwK,EAAKhI,KAAI,SAACN,EAAKkE,GAAN,OAAc,yBACnBlF,IAAKkF,EACLpG,UAAU,cACViL,IAAKzD,GAAStF,EACd8I,IAAI,UAIpB,kBAAC/K,GAAD,KACI,0BAAMD,UAAU,QAAhB,kCACA,0BAAMkP,wBAAyB,CAACC,OAAO1D,Y,GA5EpB3K,aCPtBsO,G,iLAEb,OACI,6BACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,KAAK,2BAA2BC,UAAW7C,KAClD,kBAAC,IAAD,CAAO4C,KAAK,iBAAiBE,OAAK,EAACD,UAAWnB,KAC9C,kBAAC,IAAD,CAAOkB,KAAK,wBAAwBC,UAAWV,W,GAP9B9N,aCF7BoG,G,KAAAA,OACKsI,GAAb,iLACc,IACEzP,EAAsBD,KAAKb,MAAMC,KAAjCa,kBADH,EAUiBD,KAAKb,MAArBwQ,EAVD,EAUCA,MAAO5S,EAVR,EAUQA,KAEb,OADAA,EAAOA,GAAM,GAET,sBAXmB,CACnB+Q,SAAU,CACNC,GAAI,CAAEC,KAAM,IAEhBE,WAAY,CACRH,GAAI,CAAEC,KAAM,MAQZ,sBAAM7N,KAAN,CAAWkN,MAAO,sBAEVpN,EAAkB,WAAY,CAC1BG,MAAO,CACH,CAAEG,UAAU,EAAMlF,QAAS,8CAC3B,CAACgF,IAAI,EAAEhF,QAAQ,4BACX,CAACiF,IAAI,GAAGjF,QAAQ,yCAChB,CAACkF,UAAS,EAAKlF,QAAQ,+CAE/BmM,aAAczK,EAAKf,UAPvBiE,CASI,uBAAOW,YAAY,iDAK/B,sBAAMT,KAAN,CAAWkN,MAAO,gBAEVpN,EAAkB,WAAY,CAC1BG,MAAO,CACH,CAAEG,UAAU,EAAMlF,QAAS,yCAE/BmM,aAAczK,EAAK6S,UAJvB3P,CAMI,uBAAOW,YAAY,iDAK/B,sBAAMT,KAAN,CAAWkN,MAAO,sBAEVpN,EAAkB,QAAS,CACvBG,MAAO,CACH,CAAEG,UAAU,EAAMlF,QAAS,+CAE/BmM,aAAczK,EAAK8S,OAJvB5P,CAMI,uBAAOW,YAAY,uDAK/B,sBAAMT,KAAN,CAAWkN,MAAO,gBAEVpN,EAAkB,UAAW,CACzBuH,aAAczK,EAAKgF,SADvB9B,CAGI,4BAEQ0P,EAAMjN,KAAI,SAAAN,GACN,OAAO,kBAAC,GAAD,CACHhB,IAAKgB,EAAKhE,IACV6G,MAAO7C,EAAKhE,KAAMgE,EAAK1E,iBApEnE,GAA6BsD,aA+Ed,OAAKE,OAAO,GAAZ,CAAgBwO,ICvEvBpM,G,KAAAA,QACa0C,G,2MACjBrE,MAAQ,CACJmO,aAAa,EACb/H,SAAS,EACT4H,MAAO,GACPI,MAAO,GACPC,SAAU,I,EAKdC,Q,sBAAU,4BAAA1Q,EAAA,sEACevF,QAAQkV,IAAI,CAACpS,IAAYF,MADxC,OACA8C,EADA,OAEN,EAAKsC,SAAS,CACV+N,MAAOrQ,EAAO,GAAG5F,KACjB6V,MAAOjQ,EAAO,GAAG5F,KACjBiO,SAAQ,IAEZ,EAAKmI,YAPC,2C,EASVA,UAAY,WAER,IAAMF,EAAW,EAAKrO,MAAMgO,MAAMQ,QAAO,SAACC,EAAKC,GAE3C,OADAD,EAAIC,EAAKjS,KAAOiS,EAAK3S,KACd0S,IACR,IACH,EAAKpO,SAAS,CAAEgO,c,EAEpBN,QAAU,WACN,EAAKtQ,KAAKD,MAAMC,KAAKC,eAArB,uCAAoC,WAAOpE,EAAKqE,GAAZ,mBAAAC,EAAA,yDAC3BtE,EAD2B,qBAGzB,EAAK8B,KAHoB,uBAIxBuC,EAAOlB,IAAI,EAAKrB,KAAKqB,IAJG,SAKTZ,EAAc8B,GALL,OAKxBI,EALwB,+CAOT7D,EAAWyD,GAPF,QAOxBI,EAPwB,eASnBC,GATmB,EASHD,GAAhBC,IACG,IAVgB,EASdzE,QAEV,EAAK+U,UACL5U,EAAA,EAAQuE,QAAQD,GAChB,EAAKP,KAAKD,MAAMC,KAAKyJ,cACrB,EAAK7G,SAAS,CAAC8N,aAAa,KAE5BzU,EAAA,EAAQC,MAAMqE,GAhBU,4CAApC,oCAAAK,KAAA,iB,EAsBJsQ,WAAa,SAAAvT,GACTyC,QAAQC,IAAI1C,GAEZ,EAAKA,KAAKA,EACV,EAAKiF,SAAS,CAAC8N,aAAY,K,EAE/BS,kBAAmB,SAAAxT,GACfuG,GAAQ,CACNnC,MAAO,0DACPyG,QAAS,mDACT4I,OAAQ,MACRC,OAAQ,SACRC,WAAY,KACZlM,KAAK,WAAD,4BAAC,gCAAAjF,EAAA,sEACiBtB,EAAclB,GAD/B,OACG2C,EADH,OAEHF,QAAQC,IAAIC,GACLxE,EAAYwE,EAAZxE,OAAOyE,EAAKD,EAALC,IACF,IAATzE,GACC,EAAK8G,SAAS,CAAC+F,SAAQ,IACvB,EAAKkI,UACL5U,EAAA,EAAQuE,QAAQD,IAEhBtE,EAAA,EAAQC,MAAMqE,GATf,2CAAD,kDAAC,GAYL8E,SAlBM,WAmBJjF,QAAQC,IAAI,c,EAIpBqJ,aAAe,WACX,EAAK9G,SAAS,CACV8N,aAAa,K,EAGrB3H,QAAU,CACN,CACIhH,MAAO,qBACPiH,UAAW,YAEf,CACIjH,MAAO,2BACPiH,UAAW,cACXC,OAAQ,SAACsI,GAAD,OAAiB,IAAIlN,KAAKkN,GAAajN,mBAEnD,CACIvC,MAAO,qBACPiH,UAAW,SAEf,CACIjH,MAAO,2BACPiH,UAAW,UAEXC,OAAQ,SAACtG,GACL,OAAO,EAAKJ,MAAMqO,SAASjO,KAInC,CACIZ,MAAO,eACPwF,MAAO,IACP0B,OAAQ,SAACtL,GAEL,OACI,8BACI,kBAAC,GAAD,CAAU+D,QAAS,kBAAM,EAAKwP,WAAWvT,KAAzC,4BACA,kBAAC,GAAD,CAAU+D,QAAS,kBAAM,EAAKyP,kBAAkBxT,KAAhD,gC,2FA5GhBiD,KAAKiQ,Y,+BAkHC,IAAD,SAC4BjQ,KAAK2B,MAA9BgO,EADH,EACGA,MAAOI,EADV,EACUA,MAAOhI,EADjB,EACiBA,QAChB5G,EACF,8BACI,uBAAQV,KAAK,UAAUY,KAAM,OAAQP,QAAS,WAAQ,EAAKkB,SAAS,CAAE8N,aAAa,MAAnF,6BAGR,OACI,wBAAM3O,MAAOA,GACT,wBACI+H,WAAY6G,EACZ5H,QAASnI,KAAKmI,QACdgB,OAAO,MACPpB,QAASA,EACTqB,UAAQ,EACRC,WAAY,CAAEC,gBAAiB3B,MAEnC,wBACIxG,MAAOnB,KAAKjD,KAAK,iCAAQ,iCACzBwM,QAASvJ,KAAK2B,MAAMmO,YACpBtL,KAAMxE,KAAK0P,QACXjL,SAAUzE,KAAK8I,cAEf,kBAAC,GAAD,CACI8H,oBAAqB,SAACxR,GAAD,OAAU,EAAKA,KAAOA,GAC3CuQ,MAAOA,EACP5S,KAAMiD,KAAKjD,a,GArJDiE,a,mBCV1B6P,G,KAAAA,SACA1Q,G,IAAAA,KACa2Q,G,2MACjBnP,MAAQ,CAEJoP,YAAY,EAAK5R,MAAMtC,KAAK+E,O,EAUhCoP,aAAe,SAAC5M,GACZ,OAAOA,EAAY+L,QAAO,SAACC,EAAIC,GAU3B,OATGA,EAAK9O,SACJ6O,EAAIrQ,KACA,kBAAC8Q,GAAD,CAAU1P,MAAOkP,EAAKlP,MAAOC,IAAKiP,EAAKjP,KAClC,EAAK4P,aAAaX,EAAK9O,YAIhC6O,EAAIrQ,KAAM,kBAAC8Q,GAAD,CAAU1P,MAAOkP,EAAKlP,MAAOC,IAAKiP,EAAKjP,OAE9CgP,IACT,K,EAGNa,QAAU,SAACF,EAAaG,GACpB,EAAKlP,SAAS,CACV+O,iB,2FAxBJ/Q,KAAKmR,UAAUnR,KAAKgR,aAAa5M,M,uDAEJgN,GAAU,IAEhCxP,EAASwP,EAAUvU,KAAnB+E,MACP5B,KAAKgC,SAAS,CAAC+O,YAAYnP,M,+BAwBrB,IACC/E,EAAQmD,KAAKb,MAAbtC,KACP,OACI,uBAAMsE,MAAM,4BACR,kBAAC,GAAD,KACI,uBAAOkQ,UAAQ,EAACzQ,YAAa/D,EAAKa,OAClC,wBACI4T,WAAS,EACTC,kBAAkB,EAClBR,YAAa/Q,KAAK2B,MAAMoP,YACxBE,QAASjR,KAAKiR,SAEbjR,KAAKmR,iB,GA/CUnQ,aCUnBwQ,G,YACjB,WAAYrS,GAAO,IAAD,8BACd,4CAAMA,KAGVwC,MAAQ,CACJkG,YAAY,EACZE,SAAS,EACT4H,MAAO,GACP9S,KAAK,GACL4U,gBAAgB,GAChBnB,YAAW,GAVG,EAgBlBnI,QAAU,CACN,CACIhH,MAAO,2BACPiH,UAAW,QAEf,CACIjH,MAAO,2BACPiH,UAAW,cACXC,OAAQ,SAACsI,GACL,OAAO,IAAIlN,KAAKkN,GAAajN,mBAGrC,CACIvC,MAAO,2BACPiH,UAAW,YACXC,OAAQ,SAACqJ,GACL,OAAO,IAAIjO,KAAKiO,GAAWhO,mBAGnC,CACIvC,MAAO,qBACPiH,UAAW,cArCD,EAyClBuJ,SAzCkB,sBAyCP,gCAAApS,EAAA,sEACc3C,IADd,OACD8C,EADC,OAEPF,QAAQC,IAAIC,GACJ5F,EAAsB4F,EAAtB5F,KAAM6F,EAAgBD,EAAhBC,IACC,IADeD,EAAXxE,SAEf,EAAK8G,SAAS,CACV+F,SAAS,EACT4H,MAAO7V,IAEXuB,EAAA,EAAQuE,QAAQD,IATb,2CAzCO,EAqDlBiS,QAAU,SAAA3S,GACN,EAAKG,KAAKD,MAAMC,KAAKC,eAArB,uCAAoC,WAAOpE,EAAKqE,GAAZ,iBAAAC,EAAA,yDAC3BtE,EAD2B,uBAE5B,EAAK+G,SAAS,CACV+F,SAAQ,IAHgB,SAKPpM,EAAW2D,GALJ,OAKtBI,EALsB,OAMnBC,EAAgBD,EAAhBC,IACM,IADUD,EAAXxE,QAEV,EAAKyW,WACLtW,EAAA,EAAQuE,QAAQD,GAChB,EAAKqC,SAAS,CACV6F,YAAY,KAGhBxM,EAAA,EAAQC,MAAMqE,GAdU,2CAApC,oCAAAK,KAAA,iBAtDc,EAyElB8Q,WAzEkB,sBAyEP,sCAAAvR,EAAA,6DACA1C,EAAM,EAAK8E,MAAX9E,KACDE,EAAO+E,EAAapD,UAC1B7B,EAAK6U,UAAW,IAAIjO,KACpB5G,EAAK+E,MAAQ,EAAKA,MAAMyD,QAAQ1D,MAAMoP,YACtClU,EAAKgV,UAAY9U,EAAKf,SACtBwD,QAAQC,IAAI1C,EAAKF,GANV,SAQYS,EAAcT,GAR1B,OAQD6C,EARC,OASAxE,EAAiBwE,EAAjBxE,OAAOyE,EAAUD,EAAVC,IAAI7F,EAAM4F,EAAN5F,KACfiD,EAAKgF,UAAUlF,EAAKuB,KACnB/C,EAAA,EAAQuE,QAAQ,sEAChBkC,EAAajD,aACb,EAAKM,MAAMW,QAAQgS,QAAQ,WACb,IAAT5W,GACLG,EAAA,EAAQuE,QAAQD,GAChB,EAAKqC,SAAS,CACVsO,YAAW,IAEf,EAAKqB,aAELtW,EAAA,EAAQC,MAAMqE,GACdH,QAAQC,IAAI3F,IAtBT,4CAzEO,EAmGlBiY,WAnGkB,sBAmGP,kCAAAxS,EAAA,6DACAkS,EAAiB,EAAK9P,MAAtB8P,gBADA,SAEY1T,EAAc0T,GAF1B,OAED/R,EAFC,OAGAxE,EAAYwE,EAAZxE,OAAOyE,EAAKD,EAALC,IACF,IAATzE,GACC,EAAKyW,WACLtW,EAAA,EAAQuE,QAAQD,IAEhBtE,EAAA,EAAQC,MAAMqE,GARX,2CAnGO,EA8GlBqS,MAAM,SAAAnV,GAAI,MAAG,CACViE,QAAQ,WACP,EAAKkB,SAAS,CACVyP,gBAAgB5U,EAAKuB,IACrBvB,KAAKA,IAET2C,QAAQC,IAAI,EAAKkC,MAAM9E,SApHT,EAuHlBiM,aAAe,WACX,EAAK9G,SAAS,CACV6F,YAAY,EACZyI,YAAW,KAxHf,EAAK1O,MAAQ2D,IAAMC,YAFL,E,yFAcdxF,KAAK2R,a,+BA+GC,IAAD,SAC0C3R,KAAK2B,MAA5CgO,EADH,EACGA,MAAO5H,EADV,EACUA,QAAQ0J,EADlB,EACkBA,gBAAgB5U,EADlC,EACkCA,KACjCsE,EACF,8BACI,uBAAQV,KAAK,UAAUY,KAAM,OAAQP,QAAS,WAAQ,EAAKkB,SAAS,CAAE6F,YAAY,MAAlF,4BACA,uBAAQpH,KAAK,UAAUC,MAAO,CAAEmO,OAAQ,IAAMwC,UAAWxU,EAAKuB,IAAK0C,QAAS,WAAQ,EAAKkB,SAAS,CAAEsO,YAAY,MAAhH,wCACA,uBAAQ7P,KAAK,UAAUY,KAAM,SAAUP,QAASd,KAAK+R,YAArD,6BAGR,OACI,wBAAM5Q,MAAOA,GACT,wBACI+H,WAAYyG,EACZxH,QAASnI,KAAKmI,QACdgB,OAAO,MACPpB,QAASA,EACTqB,UAAQ,EACRC,WAAY,CAAEC,gBAAiB3B,IAC/BsK,aAAc,CACVxR,KAAM,QACNgR,gBAAgBA,GAGpBO,MAAOhS,KAAKgS,QAbpB,IAeI,wBACI7Q,MAAM,iCACNoI,QAASvJ,KAAK2B,MAAMkG,WACpBrD,KAAMxE,KAAK4R,QACXnN,SAAUzE,KAAK8I,cAEf,kBAAC,GAAD,CAAS8H,oBAAqB,SAACxR,GAAD,OAAU,EAAKA,KAAOA,MAExD,wBACI+B,MAAM,iCACNoI,QAASvJ,KAAK2B,MAAM2O,WACpB9L,KAAMxE,KAAK8Q,WACXrM,SAAUzE,KAAK8I,cAEf,kBAAC,GAAD,CAAYpD,IAAK1F,KAAK4B,MAAO/E,KAAMA,U,GArKrBmE,aA2K5BkR,G,iLACQ,IACEjS,EAAsBD,KAAKb,MAAMC,KAAjCa,kBACR,OACI,2BACI,sBAAME,KAAN,KAEQF,EAAkB,WAAY,CAC1BG,MAAO,CACH,CAAEG,UAAU,EAAMlF,QAAS,gDAFnC4E,CAKI,uBAAOW,YAAY,sD,GAZzBI,aAqBtBkR,GAAU,IAAKhR,QAAL,CAAcgR,I,wBC5MHC,G,2MAEjBxQ,MAAQ,CACJyQ,MAAO,CAAC,IAAM,IAAM,KAAM,IAAM,IAAM,KAAM,KAC5CC,MAAO,CAAC,IAAK,KAAM,KAAM,KAAM,KAAM,IAAM,M,EAE/CC,UAAY,WA6BR,MA5Bc,CACVnR,MAAO,CACHoR,KAAM,uBACNC,UAAW,CACP7R,MAAO,SAIf8R,OAAQ,CACJ3Y,KAAM,CAAC,gBACPuH,KAAM,UAGVqR,QAAS,CACLC,QAAS,QAEbC,MAAO,CACH9Y,KAAM,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,iBAE/C+Y,MAAO,GACPC,OAAQ,CACJ,CACIpV,KAAM,eACN+C,KAAM,MACN3G,KAAM,CAAC,IAAM,IAAM,KAAM,IAAM,IAAM,KAAM,S,EAO3DiZ,WAAa,SAACX,EAAOC,GAkCjB,MAjCc,CACVlR,MAAO,CACHoR,KAAM,uBACNC,UAAW,CACP7R,MAAO,SAIf8R,OAAQ,CACJ3Y,KAAM,CAAC,qBAAO,gBACduH,KAAM,UAGVqR,QAAS,CACLC,QAAS,QAEbC,MAAO,CACH9Y,KAAM,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,iBAE/C+Y,MAAO,GACPC,OAAQ,CACJ,CACIpV,KAAM,qBACN+C,KAAM,MACN3G,KAAMsY,GAEV,CACI1U,KAAM,eACN+C,KAAM,MACN3G,KAAMuY,M,EAMtBW,OAAS,WACL,EAAKhR,UAAS,SAAAL,GAAK,MAAG,CAClByQ,MAAMzQ,EAAMyQ,MAAM1P,KAAI,SAAAN,GAAI,OAAEA,EAAK,OACjCiQ,MAAM1Q,EAAM0Q,MAAM3P,KAAI,SAAAN,GAAI,OAAEA,EAAK,W,wEAIrC,IAAMjB,EAAQ,uBAAQV,KAAM,UAAWK,QAASd,KAAKgT,QAAvC,4BADT,EAEiBhT,KAAK2B,MAApByQ,EAFF,EAEEA,MAAMC,EAFR,EAEQA,MACb,OACI,6BACA,4BACI,kBAAC,KAAD,CAAcY,OAAQjT,KAAKsS,eAE/B,wBAAMnR,MAAOA,GACT,kBAAC,KAAD,CAAc8R,OAAQjT,KAAK+S,WAAWX,EAAOC,W,GAzF5BrR,aCKZkS,G,2MAEjBvR,MAAQ,CACJyQ,MAAM,CAAC,IAAK,IAAK,KAAK,IAAK,IAAK,KAAK,KACrCC,MAAM,CAAC,IAAI,KAAK,KAAK,KAAK,KAAK,IAAK,M,EAExCc,WAAa,WA6BT,MA5Bc,CACVhS,MAAM,CACFoR,KAAK,uBACLC,UAAU,CACN7R,MAAM,SAId8R,OAAQ,CACJ3Y,KAAM,CAAC,gBACPuH,KAAK,UAGTqR,QAAS,CACLC,QAAS,QAEbC,MAAM,CACF9Y,KAAM,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,iBAE/C+Y,MAAM,GACNC,OAAO,CACH,CACIpV,KAAK,eACL+C,KAAK,OACL3G,KAAK,CAAC,IAAK,IAAK,KAAK,IAAK,IAAK,KAAK,S,EAQpDiZ,WAAa,SAACX,EAAMC,GAkChB,MAjCc,CACVlR,MAAM,CACFoR,KAAK,uBACLC,UAAU,CACN7R,MAAM,SAId8R,OAAQ,CACJ3Y,KAAM,CAAC,qBAAM,gBACbuH,KAAK,UAGTqR,QAAS,CACLC,QAAS,QAEbC,MAAM,CACF9Y,KAAM,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,iBAE/C+Y,MAAM,GACNC,OAAO,CACH,CACIpV,KAAK,qBACL+C,KAAK,OACL3G,KAAKsY,GAET,CACI1U,KAAK,eACL+C,KAAK,OACL3G,KAAKuY,M,EAOrBrF,OAAS,WACL,EAAKhL,UAAS,SAAAL,GAAK,MAAG,CAClByQ,MAAMzQ,EAAMyQ,MAAM1P,KAAI,SAAAN,GAAI,OAAEA,EAAK,OACjCiQ,MAAM1Q,EAAM0Q,MAAM3P,KAAI,SAAAN,GAAI,OAAEA,EAAK,W,wEAIrC,IAAMjB,EAAQ,uBAAQV,KAAM,UAAWK,QAASd,KAAKgN,QAAvC,4BADT,EAEiBhN,KAAK2B,MAApByQ,EAFF,EAEEA,MAAMC,EAFR,EAEQA,MACb,OACI,6BACI,4BACI,kBAAC,KAAD,CAAcY,OAAQjT,KAAKmT,gBAE/B,wBAAMhS,MAAOA,GACT,kBAAC,KAAD,CAAc8R,OAAQjT,KAAK+S,WAAWX,EAAMC,W,GA3F9BrR,aCDboS,G,2MAEjBD,WAAa,WAkDT,MAjDc,CACVhS,MAAM,CACFoR,KAAK,iBACLC,UAAU,CACN7R,MAAM,SAKd8R,OAAQ,CACJ3Y,KAAM,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAC3CuH,KAAK,SACLgS,OAAO,WACPC,MAAM,GACNC,IAAI,IAERb,QAAS,CACLC,QAAS,OACTa,UAAU,yBAEdV,OAAO,CACH,CACIpV,KAAK,eACL+C,KAAK,MACL3G,KAAK,CAAC,CACFmL,MAAM,IACNvH,KAAK,gBACP,CACEuH,MAAM,IACNvH,KAAK,gBACP,CACEuH,MAAM,KACNvH,KAAK,gBACP,CACEuH,MAAM,IACNvH,KAAK,gBACP,CACEuH,MAAM,KACNvH,KAAK,gBACP,CACEuH,MAAM,IACNvH,KAAK,gBACP,CACEuH,MAAM,IACNvH,KAAK,qB,EAQzBqV,WAAa,WAsDT,MArDc,CACV5R,MAAM,CACFoR,KAAK,iBACLC,UAAU,CACN7R,MAAM,SAKd8R,OAAQ,CACJ3Y,KAAM,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAC3CuH,KAAK,SACLgS,OAAO,WACPC,MAAM,GACNC,IAAI,IAGRb,QAAS,CACLC,QAAS,OACTa,UAAU,yBAEdV,OAAO,CACH,CACIpV,KAAK,eACL+C,KAAK,MAELgT,SAAS,SAET3Z,KAAK,CAAC,CACFmL,MAAM,IACNvH,KAAK,gBACP,CACEuH,MAAM,IACNvH,KAAK,gBACP,CACEuH,MAAM,KACNvH,KAAK,gBACP,CACEuH,MAAM,IACNvH,KAAK,gBACP,CACEuH,MAAM,KACNvH,KAAK,gBACP,CACEuH,MAAM,IACNvH,KAAK,gBACP,CACEuH,MAAM,IACNvH,KAAK,iBACNgW,MAAK,SAACnU,EAAEoU,GAAH,OAAOpU,EAAE0F,MAAM0O,EAAE1O,a,EAQzC2O,WAAa,WAqDT,MApDc,CACVzS,MAAM,CACFoR,KAAK,iBACLC,UAAU,CACN7R,MAAM,SAId8R,OAAQ,CACJ3Y,KAAM,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAC3CuH,KAAK,SACLgS,OAAO,WACPC,MAAM,GACNC,IAAI,IAGRb,QAAS,CACLC,QAAS,OACTa,UAAU,yBAEdV,OAAO,CACH,CACIpV,KAAK,eACL+C,KAAK,MACLoT,OAAO,CAAC,MAAM,OAGd/Z,KAAK,CAAC,CACFmL,MAAM,IACNvH,KAAK,gBACP,CACEuH,MAAM,IACNvH,KAAK,gBACP,CACEuH,MAAM,KACNvH,KAAK,gBACP,CACEuH,MAAM,IACNvH,KAAK,gBACP,CACEuH,MAAM,KACNvH,KAAK,gBACP,CACEuH,MAAM,IACNvH,KAAK,gBACP,CACEuH,MAAM,IACNvH,KAAK,qB,wEAQrB,OACI,6BACI,4BACI,kBAAC,KAAD,CAAcuV,OAAQjT,KAAKmT,gBAE/B,4BACI,kBAAC,KAAD,CAAcF,OAAQjT,KAAK+S,gBAE/B,4BACI,kBAAC,KAAD,CAAcE,OAAQjT,KAAK4T,qB,GAlLd5S,aCSzB8S,G,KAAAA,OAAOC,G,KAAAA,QAEMC,G,2MACjBrS,MAAQ,CACJqB,WAAW,G,EAEbD,WAAa,SAAAC,GACX,EAAKhB,SAAS,CAAEgB,e,6HAKf,IAAMjG,EAAM8C,EAAanB,UAE1B,OADAc,QAAQC,IAAIwU,SAASC,KAAKC,aAAa,QACnCpX,EAAKqB,IAKD,wBAAQsC,MAAO,CAACkG,OAAO,SACf,kBAAC,GAAD,MACJ,4BACI,kBAAC,GAAD,MACA,kBAACmN,GAAD,KACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOxE,KAAK,cAAcC,UAAWjJ,KACrC,kBAAC,IAAD,CAAOgJ,KAAK,kBAAkBC,UAAW4E,KACzC,kBAAC,IAAD,CAAO7E,KAAK,iBAAiBC,UAAWF,KACxC,kBAAC,IAAD,CAAOC,KAAK,cAAcC,UAAWxJ,KACrC,kBAAC,IAAD,CAAOuJ,KAAK,cAAcC,UAAWgC,KACrC,kBAAC,IAAD,CAAOjC,KAAK,oBAAoBC,UAAW2C,KAC3C,kBAAC,IAAD,CAAO5C,KAAK,qBAAqBC,UAAW0D,KAC5C,kBAAC,IAAD,CAAO3D,KAAK,oBAAoBC,UAAW4D,OAG/C,kBAACU,GAAD,CAAQpT,MAAO,CAAE2T,UAAW,SAASC,OAAO,QAA5C,yHAnBL,kBAAC,IAAD,CAAUxR,GAAG,e,GAdG9B,aCdduT,G,iLAEb,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOhF,KAAK,SAASC,UAAWzQ,KAChC,kBAAC,IAAD,CAAOwQ,KAAK,SAASC,UAAWwE,KAChC,kBAAC,IAAD,CAAUzE,MAAI,EAACzM,GAAG,iB,GAPL9B,aCAjCwT,IAASnM,OAAO,kBAAC,GAAD,MAAQ4L,SAASQ,eAAe,S","file":"static/js/main.59aa7d1c.chunk.js","sourcesContent":["import axios from \"axios\"\r\naxios.interceptors.response.use(res=>res.data)\r\nexport default function Myaxios(url,data={},method=\"get\"){\r\n    return new Promise(resolve=>{\r\n        let p = null\r\n        if (method === 'get') { //如果请求是get方式\r\n            p = axios.get(url, {\r\n                params:data\r\n            })\r\n        } else {\r\n            p = axios.post(url, data)\r\n        }\r\n\r\n        p.then(res=>{\r\n            resolve(res)\r\n        })\r\n    })\r\n}","import ajax from '../api/ajax'\r\nimport jsonp from 'jsonp'\r\nimport { message } from 'antd';\r\n//设置axios响应数据的统一格式\r\n//暴露请求登录的接口函数\r\nexport const reqLogin = (userInfo)=>ajax('/login',userInfo,\"post\")\r\n\r\n//暴露请求天气信息的接口函数\r\nexport const reqWeather=(city)=>{\r\n    const url = \"http://wthrcdn.etouch.cn/weather_mini?city=\"+city\r\n    return new Promise(res=>{\r\n        jsonp(url,{},function(err,data){\r\n            if(data.status===1000){\r\n                let weather = data.data.forecast[0]        \r\n                res(weather)\r\n            }else if(data.status===302){\r\n                message.error(\"配额超限\")\r\n            }\r\n            else{  //如果是非法的城市名 就弹窗提示\r\n                message.error('非法的城市名')\r\n                // res('非法的城市名')\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\n//暴露请求添加分类的接口函数\r\nexport const reqAddCategory=addcategory=>ajax(\"/category/add\",addcategory,\"post\")\r\nexport const reqAddProduct=productInfo=>ajax(\"/product/add\",productInfo,\"post\")\r\nexport const reqAddrole=addrole=>ajax(\"/role/add\",addrole,\"post\")\r\nexport const reqAdduser=adduser=>ajax(\"/user/add\",adduser,\"post\")\r\nexport const reqAddcomment=(username,comment)=>ajax(\"/home/comments/add\",{username,comment},\"post\")\r\n//暴露获取的接口函数\r\nexport const reqCategory=(parentId)=>ajax(\"/category/list\",{parentId})\r\nexport const reqProducts=(page,pagesize)=>ajax(\"/product/list\",{page,pagesize})\r\nexport const reqSearchProducts=(page,pagesize,searchtype,keyword)=>ajax(\"/product/search\",{page,pagesize,searchtype,keyword})\r\nexport const reqCategoryInfo= (categoryId)=>ajax('/category/info',{categoryId})\r\nexport const reqRoles= (role)=>ajax('/role/list',role)\r\nexport const reqUsers= (user)=>ajax('/user/list',user)\r\nexport const reqRole= (roleId)=>ajax('/role/info',{roleId})\r\nexport const reqComments= ()=>ajax('/home/comments')\r\n\r\n//暴露请求修改分类的接口函数\r\nexport const reqUpdateCategory=(updatecategory)=>ajax(\"/category/update\",updatecategory,\"post\")\r\nexport const reqUpdateProduct=productInfo=>ajax(\"/product/update\",productInfo,\"post\")\r\nexport const reqUpdateRole=roleInfo=>ajax(\"/role/update\",roleInfo,\"post\")\r\nexport const reqUpdateUser=userInfo=>ajax(\"/user/update\",userInfo,\"post\")\r\n\r\n\r\n//暴露删除的接口函数\r\nexport const reqDeleteImg=name=>ajax(\"/image/delete\",{name},\"post\")\r\nexport const reqRemoveCategory=removecategory=>ajax(\"/category/remove\",removecategory,\"post\")\r\nexport const reqRemoveProduct=removeproduct=>ajax(\"/product/remove\",removeproduct,\"post\")\r\nexport const reqRemoveRole=removerole=>ajax(\"/role/remove\",{removerole},\"post\")\r\nexport const reqRemoveUser=removeuser=>ajax(\"/user/remove\",removeuser,\"post\")\r\nexport const reqDeleteComment=_id=>ajax(\"/home/comments/delete\",{_id},\"post\")\r\n","// 该文件的作用是存储一些对用户信息操作的方法\r\nexport default {\r\n    saveUser:function (userInfo) {  //保存用户信息\r\n        localStorage.setItem('userInfo',JSON.stringify(userInfo))\r\n    },\r\n    getUser:function () {   //获取用户信息\r\n        return JSON.parse(localStorage.getItem('userInfo')||'{}')\r\n    },\r\n    removeUser:function () {    //删除用户信息\r\n        localStorage.removeItem('userInfo')\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { Form, Icon, Input, Button,message } from 'antd';\r\nimport {reqLogin} from \"../../api\"\r\nimport StorageUtils from \"../../utils/storageutils\"\r\nimport \"./login.css\"\r\nclass Login extends Component {\r\n    handleSubmit = e => {\r\n        e.preventDefault();//阻止默认事件\r\n        this.props.form.validateFields(async (err, values) => {   //校验并获取一组输入域的值与 Error，若 fieldNames 参数为空，则校验全部组件\r\n\t            if (!err) {//成功登录时\r\n\t\t            console.log('用户信息:', values);\r\n\t\t            const result=await reqLogin(values);\r\n\t\t            console.log(result);\r\n\t\t            const {msg,status,data}=result\r\n\t\t            if(status===0){\r\n                        message.success(`${msg}`);\r\n                        StorageUtils.saveUser(data);\r\n                        this.props.history.push(`/admin/home`)\r\n            }else{\r\n                message.error(`${msg}`);\r\n            }\r\n          }\r\n        });\r\n       \r\n      };\r\n      \r\n    render() {   \r\n       const { getFieldDecorator } = this.props.form;\r\n        return (\r\n            <div className=\"login-form\">\r\n               <h2 className=\"login-title\">REACT后台管理系统</h2>\r\n               <Form >\r\n                    <Form.Item >\r\n                        {\r\n                            getFieldDecorator(\"username\",{\r\n                                rules:[\r\n                                    {min:3,message:\"?你好短\"},\r\n                                    {max:12,message:\"太长顶不住了!\"},\r\n                                    {required:true,message:\"宁必须拥有姓名\"}\r\n                                ]       \r\n                            })(\r\n                                <Input\r\n                                prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                                placeholder=\"请输入用户名\"\r\n                                />\r\n                            )\r\n                        }\r\n                    </Form.Item>\r\n                    <Form.Item >            \r\n                    {\r\n                            getFieldDecorator(\"password\",{\r\n                                rules:[\r\n                                    {required:true,message:\"宁必须填密码\"}\r\n                                ]\r\n                            })(\r\n                                <Input\r\n                                prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                                type=\"password\"\r\n                                placeholder=\"请输入密码\"\r\n                                />\r\n                            )\r\n                        }\r\n                    </Form.Item>\r\n                    <Form.Item >\r\n                    <Button type=\"default\" htmlType=\"submit\" className=\"login-form-button\"  onClick={this.handleSubmit} block>\r\n                        登录\r\n                    </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\nconst WrappedNormalLoginForm = Form.create()(Login);\r\nexport default WrappedNormalLoginForm;\r\n","export default [\r\n    {\r\n        title: '首页', // 菜单标题名称\r\n        key:'/admin/home', // 对应的path\r\n        icon: 'home', // 图标名称\r\n        public:true\r\n    },\r\n    {\r\n        title: '商品',\r\n        key: '/admin/products',\r\n        icon: 'appstore',\r\n        children: [ // 子菜单列表\r\n            {\r\n                title: '分类管理',\r\n                key: '/admin/category',\r\n                icon: 'bars'\r\n            },\r\n            {\r\n                title: '商品管理',\r\n                key: '/admin/product',\r\n                icon: 'tool'\r\n            }\r\n        ]\r\n    },\r\n\r\n    {\r\n        title: '用户管理',\r\n        key: '/admin/user',\r\n        icon: 'user'\r\n    },\r\n    {\r\n        title: '角色管理',\r\n        key: '/admin/role',\r\n        icon: 'safety',\r\n    },\r\n\r\n    {\r\n        title: '图形图表',\r\n        key: '/admin/charts',\r\n        icon: 'area-chart',\r\n        children: [\r\n            {\r\n                title: '柱形图',\r\n                key: '/admin/charts/bar',\r\n                icon: 'bar-chart'\r\n            },\r\n            {\r\n                title: '折线图',\r\n                key: '/admin/charts/line',\r\n                icon: 'line-chart'\r\n            },\r\n            {\r\n                title: '饼图',\r\n                key: '/admin/charts/pie',\r\n                icon: 'pie-chart'\r\n            },\r\n        ]\r\n    }\r\n]","import React, { Component } from 'react'\r\nimport { Layout, Menu, Icon } from 'antd';\r\nimport menusconfig from \"../../config/menusConfig\"\r\nimport { NavLink, withRouter } from 'react-router-dom'\r\nimport storageutils from \"../../utils/storageutils\"\r\nimport { reqRole } from \"../../api/index\"\r\nconst { Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\nclass leftnav extends Component {\r\n    state={\r\n        menus:[]\r\n    }\r\n    componentDidMount(){\r\n        this.getRoleMenus()\r\n    }\r\n    getRoleMenus = async () => {\r\n        this.user = storageutils.getUser();\r\n        if(this.user.role_id){\r\n            const result = await reqRole(this.user.role_id)\r\n            this.user.menus=result.data\r\n            this.setState({\r\n                menus:this.getMenus(menusconfig)\r\n            })\r\n        }else{\r\n            this.setState({\r\n                menus:this.getMenus(menusconfig)\r\n            })\r\n        }          \r\n    }\r\n    hasAuth = (item)=>{\r\n        // console.log(this.roleAuth)  // ['/admin/category']\r\n      if(this.user.username===\"admin\"||item.public||this.user.menus.includes(item.key)){\r\n          return true\r\n      }else if(item.children){\r\n        return item.children.find(cItem=>this.user.menus.includes(cItem.key))\r\n      }else{\r\n          return false\r\n      }\r\n\r\n    }\r\n    getMenus = (menus) => {\r\n        const { pathname } = this.props.location\r\n            return menus.map(item=> {\r\n                if(this.hasAuth(item)){\r\n                    if (item.children) {\r\n                        const result = item.children.filter(cItem => pathname === cItem.key)\r\n                        if (result.length) {  //如果在有children的数组中找到了匹配pathname的key值\r\n                            this.defaultOpenKeys = item.key\r\n                        }\r\n                        return <SubMenu\r\n                            key={item.key}\r\n                            title={<span><Icon type={item.icon} /><span>{item.title}</span></span>}\r\n                        >\r\n                            {this.getMenus(item.children)}\r\n                        </SubMenu>\r\n                    } else {\r\n                        return <Menu.Item key={item.key}>\r\n                            <NavLink to={item.key}>\r\n                                <Icon type={item.icon} />\r\n                                <span>{item.title}</span>\r\n                            </NavLink>\r\n                        </Menu.Item>\r\n                    }\r\n                }\r\n            })\r\n    }\r\n    onCollapse = collapsed => {\r\n        this.setState({ collapsed });\r\n    };\r\n    render() {\r\n        const { pathname } = this.props.location\r\n        return (\r\n            <Sider>\r\n                <Menu\r\n                    defaultSelectedKeys={pathname}\r\n                    defaultOpenKeys={[this.defaultOpenKeys]}\r\n                    mode=\"inline\"\r\n                    theme=\"dark\"\r\n                >\r\n                    {this.state.menus}\r\n                </Menu>\r\n            </Sider>\r\n\r\n        )\r\n    }\r\n}\r\nexport default withRouter(leftnav)\r\n//如何让非路由组件 具有路由组件的三个属性 history location match\r\n//使用withRouter 高阶组件\r\n","import React, { Component } from 'react'\r\nimport \"./MyButton.less\"\r\nexport default class MyButton extends Component {\r\n    \r\n    render() {\r\n        return (\r\n            <button {...this.props} className=\"my-button\"></button>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Modal } from 'antd';\r\nimport { reqWeather } from \"../../api\"\r\nimport \"./Header.less\"\r\nimport storageutils from \"../../utils/storageutils\";\r\nimport { withRouter } from 'react-router-dom'\r\nimport menusConfig from '../../../src/config/menusConfig';\r\nimport MyButton from \"../../commponents/mybutton/MyButton\"\r\nconst { confirm } = Modal;\r\nexport class Header extends Component {\r\n    state = {\r\n        currenTime: new Date().toLocaleString(),\r\n        weatherInfo: {},\r\n        title: \"\",\r\n        weatherCity: \"苏州\",\r\n        fengli:\"\"\r\n    }\r\n    UNSAFE_componentWillMount() {\r\n        this.user = storageutils.getUser()\r\n        this.getWeather()\r\n        this.getTitle()\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getCurrent()\r\n    }\r\n    componentWillUnmount (){\r\n        //在Header组件即将卸载时  请求组件内部的定时器\r\n        clearInterval(this.timer)\r\n    }\r\n    getCurrent = () => {\r\n        this.timer = setInterval(() => {\r\n            this.setState({\r\n                currenTime: new Date().toLocaleString()\r\n            })\r\n        }, 1000)\r\n    }\r\n    getWeather = async () => {\r\n        const { weatherCity } = this.state\r\n        const result = await reqWeather(weatherCity)\r\n        let {fengli}=result\r\n        fengli=fengli.substr(10,2)\r\n        \r\n        \r\n        this.setState({\r\n            weatherInfo: result,\r\n            fengli\r\n        })\r\n    }\r\n    getTitle = () => {\r\n        const { pathname } = this.props.location\r\n        let title = \"\"\r\n        menusConfig.forEach((item) => {\r\n            if (pathname === item.key) title = item.title\r\n            if (item.children) {\r\n                const result = item.children.find(citem => pathname.includes(citem.key) )\r\n                if (result) title = result.title\r\n            }\r\n        }\r\n        )\r\n        return title\r\n    }\r\n    \r\n    loginOut = () => {\r\n        confirm({\r\n            title: \"确定退出吗\",\r\n            onOk: () => {\r\n                this.props.history.push('/login')\r\n            },\r\n            onCancel() {\r\n                console.log(\"cancle\");\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        const { currenTime, weatherCity,fengli } = this.state\r\n        const { type, high, low, fengxiang } = this.state.weatherInfo;\r\n        return (\r\n            <div className=\"header\">\r\n                <div className=\"header-top\">\r\n                    <span>欢迎,{this.user.username}</span>\r\n                    <MyButton onClick={this.loginOut}>退出</MyButton>\r\n                </div>\r\n                <div className=\"header-bottom\">\r\n                    <span className=\"header-bottom-left\">{this.getTitle()}</span>\r\n                    <div className=\"header-bottom-right\">\r\n                        <span>{currenTime}</span>\r\n                        {weatherCity}\r\n                        <span>{type}</span>\r\n                        {fengxiang}\r\n                        <span>{fengli}</span>\r\n                        {high}\r\n                        `{low}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(Header)\r\n","import React ,{Component}from 'react';\r\nexport default class CommentAdd extends Component{\r\n  constructor(props){\r\n    super()\r\n    this.dom=React.createRef()\r\n  }\r\n    state={\r\n      username:\"\",//存放用户名\r\n      comment:\"\"  //存放用户评论信息\r\n    }\r\n    UserChange = e=>{\r\n      this.setState({username:e.target.value})\r\n    }\r\n    CommentChange=e=>{\r\n      this.setState({comment:e.target.value})\r\n    }\r\n    AddComment=()=>{\r\n      const {username}=this.state\r\n      let comment=this.dom.current.value;\r\n      this.props.AddComments(username,comment)\r\n      this.dom.current.value=\"\"\r\n      this.setState({\r\n        username:\"\"\r\n      })\r\n    }\r\n    render() {\r\n      const {username}=this.state\r\n      return (\r\n        <div id=\"left\"> \r\n          <span>你的名字:</span><input type=\"text\" id=\"commentusername\" ref={this.user} value={username} onChange={this.UserChange}/><br/>\r\n          <span>你的评论:</span><textarea rows=\"4\" ref={this.dom} onChange={this.CommentChange}></textarea><br/>\r\n          <button onClick={this.AddComment}>提交评论</button>\r\n        </div>\r\n      )\r\n    };\r\n  };\r\n","import React, { Component } from 'react';\r\nimport \"./index.css\"\r\nimport {reqDeleteComment} from \"../../api/index\"\r\nimport Storageutils from \"../../utils/storageutils\"\r\nexport default class CommentItem extends Component {\r\n    handleDelete =_id => {\r\n       reqDeleteComment(_id)\r\n        this.props.initComments()\r\n    }\r\n    render() {\r\n        let User = Storageutils.getUser();\r\n        let { username, comment, _id ,} = this.props;\r\n        let show = User.username === \"admin\" ? \"block\" : \"none\"\r\n        return (\r\n         \r\n            <li >\r\n                <button className=\"delete\" style={{ display: show }} onClick={() => { this.handleDelete(_id) }}>删除评论</button>\r\n                    <p className=\"user\"><span>{username}</span>:</p>\r\n                    <p className=\"comments\">{comment}</p>\r\n               \r\n\r\n            </li>\r\n           \r\n        )\r\n    }\r\n}","import React ,{Component}from 'react';\r\nimport CommentItem from \"../comment-item/\";\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nexport default class CommentAdd extends Component{\r\n\r\n\r\n    render() {\r\n      const {comments,initComments}=this.props;\r\n      return (\r\n        <div className=\"commentslist\">\r\n          <Scrollbars>\r\n          <h4 style={{display:comments[0]===undefined?\"block\":\"none\"}}>求求你留句话吧</h4>\r\n          <ul>\r\n            {comments.map((item,index)=>{\r\n              return <CommentItem key={index} username={item.username} comment={item.comment} _id={item._id} initComments={initComments}/>\r\n            })\r\n          }\r\n          </ul>\r\n          </Scrollbars>\r\n      \r\n        </div>\r\n      )\r\n    };\r\n  };\r\n","import React, { Component } from 'react'\r\nimport PubSub from \"pubsub-js\"\r\nimport { Button, message, } from \"antd\"\r\nimport CommentAdd from '../../commponents/comment-add';\r\nimport CommentList from \"../../commponents/comment-list\"\r\nimport {reqAddcomment,reqComments,} from \"../../api/index\"\r\nimport \"./Home.css\"\r\n\r\nexport default class Home extends Component {\r\n    state = {\r\n        comments: [],\r\n    }\r\n    async UNSAFE_componentWillMount(){\r\n        this.initComments()\r\n    }\r\n    componentDidMount() {\r\n        PubSub.subscribe(\"delete\", this.DeleteComment)\r\n        this.style = this.refs.app.style\r\n        this.handleshow()\r\n    }\r\n\r\n    //获取评论\r\n    initComments=async ()=>{\r\n        let result=await reqComments();\r\n        const {data}=result;\r\n            if(data===[]){\r\n                this.setState({\r\n                    comments:[]\r\n                })\r\n            }else{\r\n                this.setState({\r\n                    comments:data.reverse()\r\n                })\r\n            } \r\n    }\r\n    //添加评论\r\n    AddComments = async (username, comment) => {\r\n        let result=await reqAddcomment(username,comment)\r\n        const {msg,status}=result;\r\n        if(status===0){\r\n            this.initComments()\r\n        }else{\r\n            message.error(msg)\r\n        }\r\n    \r\n    }\r\n\r\n    showsize = (opacity, width, height, transform) => {\r\n        let style = this.refs.app.style\r\n        style.opacity = opacity;\r\n        style.width = `${width}%`\r\n        style.height = `${height}%`\r\n        style.transform = `rotate(${transform}deg)`;\r\n    }\r\n    handleshow = () => {\r\n        let show =this.state.show===true?false:true\r\n        this.setState({\r\n            show\r\n        })\r\n        let style = this.refs.app.style\r\n        if (style.height === \"1%\") {\r\n            this.showsize(100, 45, 4, 0)      \r\n        } else {\r\n            this.showsize(0, 1, 1, 710)\r\n        }\r\n    }\r\n  \r\n    render() {\r\n        const { comments } = this.state\r\n        return (\r\n            <div id=\"home\">\r\n                <Button onClick={this.handleshow}>留句话再走?</Button>\r\n                <div className=\"app\" ref=\"app\">\r\n                    <div className=\"content\">\r\n                        <CommentAdd AddComments={this.AddComments} />\r\n                        <CommentList comments={comments} initComments={this.initComments}/>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n","import { Form, Select, Input, } from 'antd';\r\nimport React, { Component } from 'react'\r\n\r\n\r\nconst { Option } = Select;\r\n\r\nexport  class addCategory extends Component {\r\n    UNSAFE_componentWillMount(){\r\n        this.props.setForm(this.props.form)\r\n    }\r\n    \r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;//用来收集表单数据  \r\n        const {categories}=this.props\r\n        return (\r\n            <Form>\r\n                <Form.Item>\r\n                {getFieldDecorator('parentId', {\r\n                    initialValue:\"0\"\r\n                })(\r\n                    <Select>\r\n                        <Option value=\"0\">一级分类</Option>\r\n                        {categories.map(item=>{\r\n                            return <Option value={item._id}\r\n                            key={item._id}>\r\n                            {item.name}\r\n                            </Option>\r\n                            })    \r\n                        }\r\n                    </Select>,\r\n                )}\r\n                </Form.Item>\r\n                <Form.Item>\r\n                {getFieldDecorator('categoryName', {\r\n                    rules: [{ required: true, message: '请输入分类名称' }],\r\n                })(<Input placeholder=\"请输入分类名称\"/>)}\r\n                </Form.Item>\r\n            </Form>\r\n        )\r\n    }\r\n}\r\nexport default Form.create({})(addCategory);\r\n","import React, { Component } from 'react'\r\nimport { Form, Input, } from 'antd';\r\n\r\nexport  class updatCategory extends Component {\r\n    UNSAFE_componentWillMount(){\r\n        this.props.setForm(this.props.form)\r\n    }\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form\r\n        return (\r\n            <Form>\r\n                <Form.Item>\r\n                {getFieldDecorator('categoryName', {\r\n                    rules: [{ required: true, message: '请输入分类名称' }],\r\n                })(<Input placeholder=\"请输入分类名称\"/>)}\r\n                </Form.Item>\r\n            </Form>\r\n        )\r\n    }\r\n}\r\nexport default Form.create({})(updatCategory);\r\n","export const BASE_URL = '/uploads/'\r\nexport const PageSize=4","import React, { Component } from 'react'\r\nimport { Card, Icon, Button, Modal, message, Table,  } from 'antd';\r\nimport AddCategory from \"./addCategory\"\r\nimport UpdatCategory from \"./updatCategory\"\r\nimport { reqAddCategory, reqCategory, reqUpdateCategory, reqRemoveCategory } from \"../../api/\"\r\nimport MyButton from \"../../commponents/mybutton/MyButton\"\r\nimport {PageSize} from \"../../init/init\"\r\nexport default class content extends Component {\r\n    state = {\r\n        addvisible: false,\r\n        updatevisible: false,\r\n        categories: [],\r\n        loading: true,\r\n        parentId: '0',\r\n        parentName: \"\",\r\n        subCategorys: [],\r\n        updateId: '',\r\n    }\r\n    componentDidMount() {\r\n        this.getCategories()\r\n    }\r\n    columns = [\r\n        {\r\n            title: '分类名称',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: \"操作\",\r\n            width: 300,\r\n            render: (data) => {     //对应行的数据源\r\n                const parentId = this.state.parentId\r\n                if (parentId===\"0\") {\r\n                    return <span>\r\n                        <MyButton onClick={() => this.showupdate(data)}>修改分类名</MyButton>\r\n                        <MyButton onClick={() => this.showSubCategory(data)}>查看子分类</MyButton>\r\n                        <MyButton onClick={() => this.removeCategory(data)}>删除分类</MyButton>\r\n                    </span>\r\n                } else {\r\n                    return <span>\r\n                        <MyButton onClick={() => this.showupdate(data)}>修改分类名</MyButton>\r\n                        <MyButton onClick={() => this.removeCategory(data)}>删除分类</MyButton>\r\n                        <MyButton onClick={this.showCategory}>返回上级</MyButton>\r\n                    </span>\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    ];\r\n    //展示添加分类界面\r\n    showAdd = (category) => {\r\n        this.category = category;\r\n        console.log(this.category);\r\n\r\n\r\n        this.setState({\r\n            addvisible: true,\r\n        })\r\n    }\r\n    setForm = (form) => {//获取子组件的form数据\r\n        this.form = form;\r\n    }\r\n    addCategory = () => {\r\n        this.form.validateFields(async (err, values) => {\r\n            if (!err) {\r\n                values._id = this.category._id\r\n                console.log(values);\r\n\r\n                const result = await reqAddCategory(values)\r\n                const { status, msg } = result\r\n                if (status === 0) {\r\n                    //在显示二级分类面板中 添加新的一级分类\r\n                    if (values.parentId === this.state.parentId) {  //如果下拉框收集的parentId和组件的parentId相等\r\n                        this.getCategories()\r\n                    } else if (values.parentId === '0') { //如果下拉框收集的parentId 是 '0' 表示新增一个一级分类\r\n                        this.getCategories('0')\r\n                    }\r\n                    this.setState({\r\n                        addvisible: false\r\n                    })\r\n                    message.success(msg)\r\n                } else {\r\n                    message.error(msg)\r\n                }\r\n            }\r\n        })\r\n        this.form.resetFields()\r\n    }\r\n    handleCancel = e => {\r\n        console.log('cancel')\r\n        this.setState({\r\n            addvisible: false,\r\n            updatevisible: false\r\n        });\r\n        this.form.resetFields()\r\n    };\r\n    showupdate = category => {\r\n        console.log(\"修改分类\");\r\n        console.log(category);\r\n\r\n        this.category = category\r\n        this.setState({\r\n            updatevisible: true,\r\n        });\r\n    }\r\n    updateCategory = e => {\r\n        this.form.validateFields(async (err, values) => {\r\n            if (!err) {\r\n                const { _id, parentId } = this.category\r\n                const { categoryName } = values\r\n                values._id = _id\r\n                if (categoryName === undefined) {\r\n                    message.error(\"你卖空气吗弟弟\")\r\n                    return\r\n                }\r\n                const result = await reqUpdateCategory(values)\r\n                const { status, msg } = result;\r\n                if (status === 0) {\r\n                    this.setState({\r\n                        updatevisible: false,\r\n                        parentId: parentId\r\n                    })\r\n                    message.success(msg)\r\n                    this.getCategories()\r\n                } else {\r\n                    message.error(msg)\r\n                }\r\n            }\r\n\r\n        })\r\n        this.form.resetFields()\r\n    }\r\n    removeCategory = async (category) => {\r\n        const result = await reqRemoveCategory(category)\r\n        const { status, msg, } = result\r\n        if (status === 0) {\r\n            this.getCategories()\r\n        } else {\r\n            message.error(msg)\r\n        }\r\n    }\r\n    getCategories = async (parentId) => {\r\n        this.setState({ loading: true })\r\n        parentId = parentId || this.state.parentId\r\n        const result = await reqCategory(parentId)\r\n        this.setState({ loading: false })\r\n        const { status, msg, data, } = result\r\n        if (status === 0) { //如果获取分类成功\r\n            if (parentId === \"0\") {     //如果获取的是一级分类\r\n                this.setState({ categories: data })\r\n            } else {                  //如果获取的是子分类\r\n                this.setState({ subCategorys: data })\r\n            }\r\n        } else {\r\n            if (parentId === \"0\") {     //如果获取的是一级分类\r\n                this.setState({ categories: data })\r\n            } else {                  //如果获取的是子分类\r\n                this.setState({ subCategorys: data })\r\n            }\r\n            message.error(msg)\r\n        }\r\n    }\r\n    showSubCategory = (category) => {\r\n        this.setState({\r\n            parentId: category._id,\r\n            parentName: category.name\r\n        }, () => {\r\n            this.getCategories()\r\n        })\r\n    }\r\n    showCategory = () => {\r\n        this.setState({\r\n            parentId: \"0\",\r\n            parentName: \"\",\r\n            subCategorys: []\r\n        }, () => {\r\n            this.getCategories()\r\n        })\r\n    }\r\n    render() {\r\n        const { categories, loading, subCategorys, parentId, parentName } = this.state\r\n        const title = parentId === \"0\" ? \"一级分类\" : (\r\n            <span>\r\n                <MyButton onClick={this.showCategory}>一级分类</MyButton>\r\n                <Icon type=\"arrow-right\" />\r\n                {parentName}\r\n            </span>\r\n        )\r\n        const extra = (\r\n            <Button type=\"primary\" onClick={this.showAdd}>\r\n                <Icon type=\"plus\" />\r\n                <span>添加分类</span>\r\n            </Button>\r\n        )\r\n        return (\r\n            <Card title={title} extra={extra} style={{ width: \"100%\" }}>\r\n                <Table\r\n                    dataSource={parentId === '0' ? categories : subCategorys}  //数据源\r\n                    columns={this.columns}       //每列的信息\r\n                    rowKey='_id'        //必须要有的\r\n                    loading={loading}      //设置数据是否在加载中\r\n                    bordered\r\n                    pagination={{ defaultPageSize: PageSize }}    //配置分页器\r\n                />;\r\n                <Modal\r\n                    title=\"请添加分类\"\r\n                    visible={this.state.addvisible}\r\n                    onOk={this.addCategory}\r\n                    onCancel={this.handleCancel}\r\n                >\r\n                    <AddCategory setForm={this.setForm} categories={categories} />\r\n                </Modal>\r\n                <Modal\r\n                    title=\"修改分类名\"\r\n                    visible={this.state.updatevisible}\r\n                    onOk={this.updateCategory}\r\n                    onCancel={this.handleCancel}\r\n                >\r\n                    <UpdatCategory setForm={this.setForm} />\r\n                </Modal>\r\n\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport { Upload, Icon, Modal, message } from 'antd';\r\nimport { reqDeleteImg } from \"../../api/index\"\r\nimport {BASE_URL} from \"../../init/init\"\r\nfunction getBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = error => reject(error);\r\n  });\r\n}\r\nexport default class PicturesWall extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { imgs } = this.props;//如果是添加页面  是undefined  如果是修改页面 imgs数组\r\n    let fileList = [];\r\n    if (imgs) {   //如果是修改页面\r\n      fileList = imgs.map((item, index) => ({\r\n        uid: -index,\r\n        name: item,\r\n        status: 'done',\r\n        url: BASE_URL + item\r\n      }))\r\n    }\r\n    this.state = {\r\n      previewVisible: false,\r\n      previewImage: '',\r\n      fileList\r\n    }\r\n  }\r\n  //根据fileList 生成图片名字组成的数组\r\n  getImgs = () => this.state.fileList.map(item => item.name)\r\n  handleCancel = () => this.setState({ previewVisible: false });\r\n\r\n  //预览触发\r\n  handlePreview = async file => {\r\n    if (!file.url && !file.preview) {\r\n      file.preview = await getBase64(file.originFileObj);\r\n    }\r\n\r\n    this.setState({\r\n      previewImage: file.url || file.preview,\r\n      previewVisible: true,\r\n    });\r\n  };\r\n\r\n\r\n  handleChange = async ({ file, fileList }) => {\r\n    //图片上传完成后摇添加url并修改name\r\n    if (file.status === \"done\") {\r\n      const { data, msg } = file.response;\r\n      const newfile = fileList[fileList.length - 1]\r\n      message.success(msg)\r\n      newfile.name = data.name;\r\n      newfile.url = data.url\r\n    } else if (file.status === \"removed\") {\r\n      const result = await reqDeleteImg(file.name)\r\n      const { status, msg } = result\r\n      if (status === 0) {\r\n        message.success(msg)\r\n      }\r\n    }\r\n    this.setState({ fileList })\r\n  };\r\n  render() {\r\n    const { previewVisible, previewImage, fileList } = this.state;\r\n    const uploadButton = (\r\n      <div>\r\n        <Icon type=\"plus\" />\r\n        <div className=\"ant-upload-text\">Upload</div>\r\n      </div>\r\n    );\r\n    return (\r\n      <div className=\"clearfix\">\r\n        <Upload\r\n          action=\"/image/upload\"\r\n          listType=\"picture-card\"\r\n          fileList={fileList}\r\n          name=\"image\"\r\n          accept=\"image/*\"\r\n          onPreview={this.handlePreview}\r\n          onChange={this.handleChange}\r\n        >\r\n          {/* 允许上传的图片数量 */}\r\n          {fileList.length >= 6 ? null : uploadButton}\r\n        </Upload>\r\n        <Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\r\n          <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertToRaw,ContentState } from 'draft-js';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport htmlToDraft from 'html-to-draftjs';\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nexport default class RichTextEditor extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const details = this.props.details;\r\n        if (details) { //如果有details 属性 （修改页面）\r\n            const contentBlock = htmlToDraft(details);\r\n            const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\r\n            const editorState = EditorState.createWithContent(contentState);\r\n            this.state = {\r\n                editorState,\r\n            };\r\n        }else{  //如果没有details属性  （添加页面）\r\n            this.state = {\r\n                editorState:EditorState.createEmpty(),\r\n            };\r\n        }\r\n    }\r\n\r\n\r\n    onEditorStateChange = (editorState) => {\r\n        this.setState({\r\n            editorState\r\n        })\r\n    }\r\n\r\n    getdetails =()=>draftToHtml(convertToRaw(this.state.editorState.getCurrentContent()))\r\n    render() {\r\n        const { editorState } = this.state\r\n        return (\r\n            <Editor\r\n                editorState={editorState}\r\n                editorStyle={{ border: \"1px solid #1DA57A\", paddingLeft: 20, height: 200 }}\r\n                wrapperClassName=\"demo-wrapper\"\r\n                editorClassName=\"demo-editor\"\r\n                onEditorStateChange={this.onEditorStateChange}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {\r\n    Card,\r\n    Input,\r\n    Button,\r\n    Icon,\r\n    Form,\r\n    Cascader,\r\n    message,\r\n} from 'antd'\r\nimport Mybutton from \"../../commponents/mybutton/MyButton\"\r\nimport PictureWall from \"./PicturesWall \"\r\nimport RichTextEditor from \"./RichTextEditor\"\r\nimport { reqCategory, reqAddProduct, reqUpdateProduct } from \"../../api\"\r\n\r\nconst { TextArea } = Input;\r\nexport class AddUpdateProduct extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.imgs = React.createRef();//创建标记对象 {current:null}\r\n        this.details = React.createRef()\r\n    }\r\n    state = {\r\n        options: [],\r\n    };\r\n    UNSAFE_componentWillMount() {\r\n        if (this.props.location.state) {   //如果有值 就是修改页面\r\n            this.update = true\r\n            this.product = this.props.location.state.product\r\n        } else {\r\n            this.update = false\r\n            this.product = {}\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.getCategories()\r\n    }\r\n    // onChange=(value,selectedOptions)=>{\r\n    //     console.log(value,selectedOptions);\r\n    // }\r\n\r\n    getCategories = async () => {\r\n        const result = await reqCategory(\"0\")\r\n        const { status, data, } = result\r\n        const { pCategoryId } = this.product\r\n        const options = this.forisLeaf(data, false)\r\n        if (status === 0) { //如果获取分类成功\r\n            //如果是修改页面  并且分类的数组长度是2\r\n            if (this.update && pCategoryId !== '0') {\r\n                const targetOption = options.find(item => item.value === pCategoryId)\r\n\r\n                const index = options.findIndex(item => item.value === targetOption.value)\r\n                const result = await reqCategory(targetOption.value)\r\n                let { data, status } = result\r\n                if (status === 0) { //如果获取到二级分类\r\n                    // data = this.formateData(data,false)\r\n                    targetOption.children = this.forisLeaf(data, false)\r\n                } else {  //如果没有获取到二级分类 则该一级分类就是叶子\r\n                    targetOption.isLeaf = true;\r\n                }\r\n                options[index] = targetOption\r\n            }\r\n            this.setState({ options })\r\n        } else {\r\n            message.error(\"获取失败\")\r\n        }\r\n    }\r\n    //点击第一级选项时 触发\r\n    forisLeaf = (data, bool) => {\r\n        return data.map(item => ({\r\n            value: item._id,\r\n            label: item.name,\r\n            isLeaf: bool\r\n        }))\r\n    }\r\n    loadData = async selectedOptions => {\r\n        const targetOption = selectedOptions[0];\r\n        targetOption.loading = true;\r\n        const result = await reqCategory(targetOption.value)\r\n        targetOption.loading = false;\r\n        setTimeout(() => {\r\n            const { data, status } = result;\r\n            if (status === 0) {\r\n                targetOption.children = this.forisLeaf(data, true)\r\n                this.setState({\r\n                    options: [...this.state.options]\r\n                })\r\n            } else {\r\n                targetOption.isLeaf = true\r\n            }\r\n        }, 100)\r\n\r\n    };\r\n    handlesubmit = e => {\r\n        e.preventDefault();\r\n        this.props.form.validateFieldsAndScroll(async (err, values) => {\r\n            if (!err) {\r\n                const imgs = this.imgs.current.getImgs()\r\n                const details = this.details.current.getdetails()\r\n                const { name, desc, price, category } = values\r\n                let categoryId, pCategoryId\r\n                if (category.length === 1) {    //如果收集的长度为的数组\r\n                    // pCategoryId = '0'\r\n                    // categoryId = category[0]\r\n                    [categoryId, pCategoryId = '0'] = category\r\n                } else {\r\n                    // pCategoryId = category[0]\r\n                    // categoryId = category[1]\r\n                    [pCategoryId, categoryId] = category\r\n                }\r\n                const productInfo = { name, desc, price, pCategoryId, categoryId, imgs, details }\r\n                console.log(\"是否修改\",this.update);\r\n                \r\n                if (this.update) {\r\n                    productInfo._id = this.product._id\r\n                    const result = await reqUpdateProduct(productInfo)\r\n                    const { status, msg } = result;\r\n                    if (status === 0) {\r\n                        message.success(msg)\r\n                        this.props.history.push(\"/admin/product\")\r\n                    } else {\r\n                        message.error(msg)\r\n                    }\r\n                }else{\r\n                    const result = await reqAddProduct(productInfo)\r\n                    const { status, msg } = result;\r\n                    if (status === 0) {\r\n                        message.success(msg)\r\n                        this.props.history.push(\"/admin/product\")\r\n                    } else {\r\n                        message.error(msg)\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n    render() {\r\n        const { categoryId, desc, details, imgs, name, pCategoryId, price } = this.product\r\n        const { getFieldDecorator } = this.props.form\r\n        const category = []\r\n        if (pCategoryId === '0') {  //如果是一级分类\r\n            category.push(categoryId)\r\n        } else {\r\n            category.push(pCategoryId, categoryId)\r\n        }\r\n        const title = (\r\n            <span>\r\n                <Mybutton onClick={this.props.history.goBack}>\r\n                    <Icon type=\"arrow-left\" />\r\n                </Mybutton>\r\n                <span>{this.update ? \"修改商品页面\" : \"添加商品页面\"}</span>\r\n            </span>\r\n        )\r\n\r\n        const formItemLayout = {\r\n            labelCol: {     //文字占据的比例\r\n                sm: { span: 5, offset: 1 },\r\n            },\r\n            wrapperCol: {  //组件标签占据的比例\r\n                sm: { span: 12 },\r\n            },\r\n        };\r\n        return (\r\n            <Card title={title}>\r\n                <Form {...formItemLayout}>\r\n                    <Form.Item label={\"商品名称\"}>\r\n                        {getFieldDecorator('name', {\r\n                            rules: [{ required: true, message: '商品名称不能为空' }],\r\n                            initialValue: name\r\n                        })(\r\n                            <Input placeholder=\"请输入商品名称\" />\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item label={\"商品描述\"}>\r\n                        {getFieldDecorator('desc', {\r\n                            rules: [{ required: true, message: '商品描述不能为空' }],\r\n                            initialValue: desc\r\n                        })(\r\n                            <TextArea placeholder=\"请输入商品描述\" />\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item label={\"商品价格\"}>\r\n                        {getFieldDecorator('price', {\r\n                            rules: [{ required: true, message: '商品价格不能为空' }],\r\n                            initialValue: price\r\n                        })(\r\n                            <Input type=\"number\" min={2} placeholder=\"请输入商品价格\" addonAfter=\"元\" />\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item label={\"商品分类\"}>\r\n                        {getFieldDecorator('category', {\r\n                            rules: [{ required: true, message: \"不能为空\" }],\r\n                            initialValue: category\r\n                        })(\r\n                            <Cascader\r\n                                options={this.state.options}\r\n                                loadData={this.loadData}\r\n                                onChange={this.onChange}\r\n                                changeOnSelect\r\n                            />\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item label={\"商品图片\"}>\r\n                        <PictureWall ref={this.imgs} imgs={imgs} />\r\n                    </Form.Item>\r\n                    <Form.Item label={\"商品详情\"}>\r\n                        <RichTextEditor ref={this.details} details={details} />\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" onClick={this.handlesubmit}>提交</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Card>\r\n\r\n        )\r\n    }\r\n}\r\nexport default Form.create({})(AddUpdateProduct);\r\n","import React, { Component } from 'react'\r\nimport {\r\n    Card,\r\n    Select,\r\n    Input,\r\n    Button,\r\n    Icon,\r\n    Table,\r\n    message,\r\n} from \"antd\"\r\nimport {PageSize} from \"../../init/init\"\r\nimport {reqProducts,reqSearchProducts,reqRemoveProduct} from \"../../api/index\"\r\nimport MyButton from \"../../commponents/mybutton/MyButton\"\r\nconst {Option}=Select\r\nexport default class HomeProduct extends Component {\r\n    state={\r\n        products:[],    //存放所有的商品列表\r\n        total:0,    //商品的总数\r\n        keywords:'',    //搜索关键词\r\n        searchType:'name',   //储存的是搜索类型  默认是按名称搜索\r\n    }\r\n    columns = [\r\n        {\r\n            title: '商品名称',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: '商品描述',\r\n            dataIndex: 'desc',\r\n        },\r\n        {\r\n            title: '商品价格',\r\n            dataIndex: 'price',\r\n            render:(price)=>`￥${price}元`\r\n        },\r\n        {\r\n            title: '操作类型',\r\n            width:300,\r\n            render:(product)=>{\r\n                // console.log(a);//render函数的参数 是对应行的数据源\r\n                // console.log(product)\r\n                return (\r\n                    <span>\r\n                        <MyButton onClick={()=>this.props.history.push({\r\n                            pathname:'/admin/product/detail',\r\n                            state:{\r\n                                product\r\n                            }\r\n                        })}>详情</MyButton>\r\n                        <MyButton onClick={()=>this.props.history.push({\r\n                            pathname:'/admin/product/addUpdate',\r\n                            state:{\r\n                                product\r\n                            }\r\n                        })}>修改</MyButton>\r\n                         <MyButton onClick={() => this.removeProduct(product)}>删除</MyButton>\r\n                    </span>\r\n                )\r\n            }\r\n\r\n        }\r\n\r\n    ];\r\n    removeProduct=async (product)=>{\r\n        const result = await reqRemoveProduct(product)\r\n        const { status, msg, } = result\r\n        if (status === 0) {\r\n            message.success(msg)\r\n            this.getProducts(1)\r\n        } else {\r\n            message.error(msg)\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        //获取第一页的商品数据\r\n        this.getProducts(1)\r\n    }\r\n    getProducts=async (page)=>{\r\n        const {keywords,searchType,}=this.state\r\n        let result=null\r\n        if(keywords){\r\n            result=await reqSearchProducts(page,PageSize,searchType,keywords)\r\n        }else{\r\n            result =await reqProducts(page,PageSize)\r\n        }\r\n        const {status,data,msg}=result\r\n        if(status===0){\r\n            this.setState({\r\n                products:data.arr,\r\n                total:data.total\r\n            })\r\n            message.success(msg)\r\n        }else{\r\n            message.error(msg)\r\n        }\r\n    }\r\n    render() {\r\n        const {products,total,keywords,searchType} = this.state\r\n        const title=(\r\n            <span>\r\n                <Select value={searchType} style={{width:200}} onChange={(value)=>this.setState({searchType:value})}>\r\n                    <Option value=\"name\">按名称搜索</Option>\r\n                    <Option value=\"desc\">按描述搜索</Option>\r\n                </Select>\r\n                <Input \r\n                    placeholder=\"请输入搜索内容\" \r\n                    style={{width:200,margin:10}}\r\n                    value={keywords}\r\n                    onChange={(e)=>this.setState({\r\n                        keywords:e.target.value\r\n                    })}\r\n                    />\r\n                <Button type=\"primary\" onClick={()=>this.getProducts(1)}>搜索</Button>\r\n            </span>\r\n        )\r\n        const extra = (\r\n            <Button type='primary' onClick={()=>this.props.history.push('/admin/product/addUpdate')}>\r\n                <Icon type='plus'/>\r\n                <span>添加商品</span>\r\n            </Button>\r\n        )\r\n        return (\r\n            \r\n            <Card title={title} extra={extra}>\r\n                 <Table\r\n                    dataSource={products}  //数据源\r\n                    columns={this.columns}       //每列的信息\r\n                    rowKey='_id'        //必须要有的\r\n\r\n                    bordered\r\n                    pagination={{ //配置分页器\r\n                        total,  //6\r\n                        defaultPageSize:PageSize,\r\n                        onChange:this.getProducts\r\n                    }}\r\n                />;\r\n            </Card>   \r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {\r\n    Card,\r\n    Icon,\r\n    List,\r\n} from 'antd'\r\nimport Mybutton from \"../../commponents/mybutton/MyButton\"\r\nimport {reqCategoryInfo} from '../../api/index'\r\nimport \"./detail.less\"\r\nimport {BASE_URL} from \"../../init/init\"\r\nconst {Item} = List\r\n\r\nexport default class DetailProduct extends Component {\r\n    state = {\r\n        name1:'',\r\n        name2:''\r\n    }\r\n    componentDidMount(){\r\n        this.getCategory()\r\n    }\r\n\r\n    getCategory = async ()=>{\r\n        const {categoryId,pCategoryId} = this.props.location.state.product\r\n        // const result1 = await reqCategoryInfo(pCategoryId)\r\n        // const result2 = await reqCategoryInfo(categoryId)\r\n        if(pCategoryId==='0'){\r\n            const result = await reqCategoryInfo(categoryId)\r\n            this.setState({\r\n                name1:result.data.name,\r\n            })\r\n        }else{\r\n            const result = await Promise.all([reqCategoryInfo(pCategoryId),reqCategoryInfo(categoryId)])\r\n            this.setState({\r\n                name1:result[0].data.name,\r\n                name2:result[1].data.name,\r\n            })\r\n        }\r\n\r\n    }\r\n    render() {\r\n        const title = (\r\n            <span>\r\n                <Mybutton onClick={this.props.history.goBack}>\r\n                    <Icon type=\"arrow-left\" />\r\n                </Mybutton>\r\n                <span>商品详情页面</span>\r\n            </span>\r\n        )\r\n        const {desc,details,imgs,name,price} = this.props.location.state.product\r\n        const {name1,name2} = this.state\r\n        return (\r\n            <Card title={title}>\r\n                <List\r\n                    size=\"large\"\r\n                    bordered\r\n                >\r\n                    <Item>\r\n                        <span className='left'>商品名称：</span>\r\n                        <span className='right'>{name}</span>\r\n                    </Item>\r\n                    <Item>\r\n                        <span className='left'>商品描述：</span>\r\n                        <span className='right'>{desc}</span>\r\n                    </Item>\r\n                    <Item>\r\n                        <span className='left'>商品价格：</span>\r\n                        <span className='right'>{price}元</span>\r\n                    </Item>\r\n                    <Item>\r\n                        <span className='left'>商品分类：</span>\r\n                        <span className='right'>\r\n                            {name2?name1+'-->'+name2:name1}\r\n                        </span>\r\n                    </Item>\r\n                    <Item>\r\n                        <span className='left'>商品图片：</span>\r\n                        <span className='right'>\r\n                            {\r\n                                imgs.map((item,index)=><img\r\n                                    key={index}\r\n                                    className='product-img'\r\n                                    src={BASE_URL+item}\r\n                                    alt=\"\"/>)\r\n                            }\r\n                        </span>\r\n                    </Item>\r\n                    <Item>\r\n                        <span className='left'>商品详情：</span>\r\n                        <span dangerouslySetInnerHTML={{__html:details}}/>\r\n                    </Item>\r\n                </List>\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {Switch,Route} from \"react-router-dom\"\r\nimport AddUpdateProduct from \"./AddUpdateProduct\"\r\nimport HomeProduct from './HomeProduct'\r\nimport DetailProduct from './DetailProduct'\r\nexport default class Product extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Switch>\r\n                    <Route path=\"/admin/product/addUpdate\" component={AddUpdateProduct}/>\r\n                    <Route path=\"/admin/product\" exact component={HomeProduct}/>\r\n                    <Route path=\"/admin/product/detail\" component={DetailProduct}/>\r\n                </Switch>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import { Form, Select, Input, } from 'antd';\r\nimport React, { Component } from 'react'\r\n\r\nconst { Option } = Select;\r\nexport class addUser extends Component {\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;//用来收集表单数据  \r\n        const formItemLayout = {\r\n            labelCol: {     //文字占据的比例\r\n                sm: { span: 6 },\r\n            },\r\n            wrapperCol: {  //组件标签占据的比例\r\n                sm: { span: 12 },\r\n            },\r\n        };\r\n        let { roles, user } = this.props\r\n        user = user||{}\r\n        return (\r\n            <Form {...formItemLayout}>\r\n\r\n                <Form.Item label={'用户名'}>\r\n                    {\r\n                        getFieldDecorator('username', {\r\n                            rules: [\r\n                                { required: true, message: '用户名不能为空' },\r\n                                {min:3,message:\"你太短了\"},\r\n                                    {max:12,message:\"太长顶不住了!\"},\r\n                                    {required:true,message:\"宁必须拥有姓名\"}\r\n                            ],\r\n                            initialValue: user.username\r\n                        })(\r\n                            <Input placeholder='请输入用户名称' />\r\n                        )\r\n                    }\r\n\r\n                </Form.Item>\r\n                <Form.Item label={'密码'}>\r\n                    {\r\n                        getFieldDecorator('password', {\r\n                            rules: [\r\n                                { required: true, message: '密码不能为空' }\r\n                            ],\r\n                            initialValue: user.password\r\n                        })(\r\n                            <Input placeholder='请输入用户密码' />\r\n                        )\r\n                    }\r\n\r\n                </Form.Item>\r\n                <Form.Item label={'手机号'}>\r\n                    {\r\n                        getFieldDecorator('phone', {\r\n                            rules: [\r\n                                { required: true, message: '手机号不能为空' }\r\n                            ],\r\n                            initialValue: user.phone\r\n                        })(\r\n                            <Input placeholder='请输入用户手机号' />\r\n                        )\r\n                    }\r\n\r\n                </Form.Item>\r\n                <Form.Item label={'角色'}>\r\n                    {\r\n                        getFieldDecorator('role_id', {\r\n                            initialValue: user.role_id\r\n                        })(    //收集的Option的value值\r\n                            <Select>\r\n                                {\r\n                                    roles.map(item => {\r\n                                        return <Option\r\n                                            key={item._id}\r\n                                            value={item._id}>{item.name}</Option>\r\n                                    })\r\n                                }\r\n                            </Select>\r\n                        )\r\n                    }\r\n                </Form.Item>\r\n            </Form>\r\n        )\r\n    }\r\n}\r\nexport default Form.create({})(addUser);","import React, { Component } from 'react'\r\nimport {\r\n    Card,\r\n    Button,\r\n    Table,\r\n    message,\r\n    Modal,\r\n} from \"antd\"\r\nimport AddUser from \"./addUser\"\r\nimport MyButton from \"../../commponents/mybutton/MyButton\"\r\nimport { reqRoles, reqAdduser, reqUsers ,reqUpdateUser,reqRemoveUser} from \"../../api\"\r\nimport {PageSize} from \"../../init/init\"\r\nconst { confirm } = Modal;\r\nexport default class User extends Component {\r\n    state = {\r\n        showvisible: false,\r\n        loading: true,\r\n        roles: [],\r\n        users: [],\r\n        roleName: {}//{角色id:角色名}\r\n    }\r\n    UNSAFE_componentWillMount() {\r\n        this.getData()\r\n    }\r\n    getData = async () => {\r\n        const result = await Promise.all([reqUsers(), reqRoles()])\r\n        this.setState({\r\n            users: result[0].data,\r\n            roles: result[1].data,\r\n            loading:false\r\n        })\r\n        this.initRoles()\r\n    }\r\n    initRoles = () => {\r\n        // console.log(this.state.roles)\r\n        const roleName = this.state.roles.reduce((pre, next) => {\r\n            pre[next._id] = next.name\r\n            return pre\r\n        }, {})\r\n        this.setState({ roleName })\r\n    }\r\n    addUser = () => {\r\n        this.form.props.form.validateFields(async (err, values) => {\r\n            if (!err) {\r\n                let result\r\n                if(this.user){\r\n                    values._id=this.user._id;\r\n                    result = await reqUpdateUser(values)\r\n                }else{\r\n                    result = await reqAdduser(values)\r\n                }\r\n                const {  msg, status } = result\r\n                if(status===0){ //如果添加用户成功  从数据库中获取所有的用户  展示在页面中\r\n                    this.getData()\r\n                    message.success(msg)\r\n                    this.form.props.form.resetFields()\r\n                    this.setState({showvisible: false});\r\n                }else{\r\n                    message.error(msg)\r\n                }\r\n\r\n            }\r\n        })\r\n    }\r\n    showUpdate = user => {\r\n        console.log(user);\r\n        \r\n        this.user=user\r\n        this.setState({showvisible:true})\r\n    }\r\n    showDeleteConfirm= user =>{\r\n        confirm({\r\n          title: '你确定要删除用户吗?',\r\n          content: '删了无法恢复的哦',\r\n          okText: 'Yes',\r\n          okType: 'danger',\r\n          cancelText: 'No',\r\n          onOk:async ()=> {\r\n            const result =await reqRemoveUser(user);\r\n            console.log(result);\r\n            const {status,msg}=result;\r\n            if(status===0){\r\n                this.setState({loading:true})\r\n                this.getData()\r\n                message.success(msg)\r\n            }else{\r\n                message.error(msg)\r\n            }\r\n          },\r\n          onCancel() {\r\n            console.log('Cancel');\r\n          },\r\n        });\r\n      }\r\n    handleCancel = () => {\r\n        this.setState({\r\n            showvisible: false,\r\n        })\r\n    }\r\n    columns = [\r\n        {\r\n            title: '用户名',\r\n            dataIndex: 'username',\r\n        },\r\n        {\r\n            title: '创建时间',\r\n            dataIndex: 'create_time',\r\n            render: (create_time) => new Date(create_time).toLocaleString()\r\n        },\r\n        {\r\n            title: '手机号',\r\n            dataIndex: 'phone',\r\n        },\r\n        {\r\n            title: '所属角色',\r\n            dataIndex: 'role_id',   //角色id  roleName = {角色id:角色name}\r\n\r\n            render: (role_id) => {\r\n                return this.state.roleName[role_id]\r\n                // return this.state.roles.find(item=>item._id===role_id).name\r\n            }\r\n        },\r\n        {\r\n            title: '操作',\r\n            width: 300,\r\n            render: (user) => {\r\n                // console.log(a);//render函数的参数 是对应行的数据源\r\n                return (\r\n                    <span>\r\n                        <MyButton onClick={() => this.showUpdate(user)}>修改用户</MyButton>\r\n                        <MyButton onClick={() => this.showDeleteConfirm(user)}>删除用户</MyButton>\r\n                    </span>\r\n                )\r\n            }\r\n        }\r\n    ]\r\n    render() {\r\n        const { roles, users ,loading} = this.state\r\n        const title = (\r\n            <span>\r\n                <Button type='primary' icon={'plus'} onClick={() => { this.setState({ showvisible: true }) }}>添加用户</Button>\r\n            </span>\r\n        )\r\n        return (\r\n            <Card title={title}>\r\n                <Table\r\n                    dataSource={users}  //数据源\r\n                    columns={this.columns}       //每列的信息\r\n                    rowKey='_id'        //必须要有的\r\n                    loading={loading}      //设置数据是否在加载中\r\n                    bordered\r\n                    pagination={{ defaultPageSize: PageSize }}    //配置分页器\r\n                />\r\n                <Modal\r\n                    title={this.user?\"请修改用户\":\"请添加用户\"}\r\n                    visible={this.state.showvisible}\r\n                    onOk={this.addUser}\r\n                    onCancel={this.handleCancel}\r\n                >\r\n                    <AddUser\r\n                        wrappedComponentRef={(form) => this.form = form}\r\n                        roles={roles}\r\n                        user={this.user}\r\n                    />\r\n                </Modal>\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Tree, Form,Input } from 'antd';\r\nimport menusConfig from \"../../config/menusConfig\"\r\nconst { TreeNode } = Tree;\r\nconst { Item } = Form;\r\nexport default class updateRole extends Component {\r\n    state = {\r\n          // checkedKeys 设置复选框是否选中    selectedKeys 设置文字是否选中\r\n        checkedKeys:this.props.role.menus, //存放的角色的权限信息\r\n    }\r\n    UNSAFE_componentWillMount(){\r\n        this.treeNodes=this.getTreeNodes(menusConfig)\r\n    }\r\n    UNSAFE_componentWillReceiveProps(nextProps){\r\n        // console.log(nextProps)\r\n        const {menus} = nextProps.role\r\n        this.setState({checkedKeys:menus})\r\n    }\r\n    getTreeNodes = (menusConfig)=>{\r\n        return menusConfig.reduce((pre,next)=>{\r\n            if(next.children){\r\n                pre.push(\r\n                    <TreeNode title={next.title} key={next.key}>\r\n                        {this.getTreeNodes(next.children)}\r\n                    </TreeNode>\r\n                )\r\n            }else{  //如果没有子节点的\r\n                pre.push( <TreeNode title={next.title} key={next.key}  />)\r\n            }\r\n            return pre\r\n        },[])\r\n    }\r\n   \r\n    onCheck = (checkedKeys, info) => {\r\n        this.setState({\r\n            checkedKeys\r\n        })\r\n        \r\n    };\r\n    \r\n    render() {\r\n        const {role} = this.props\r\n        return (\r\n            <Form title=\"角色名称\">\r\n                <Item>\r\n                    <Input disabled placeholder={role.name}></Input>\r\n                    <Tree\r\n                        checkable\r\n                        defaultExpandAll={true}\r\n                        checkedKeys={this.state.checkedKeys}\r\n                        onCheck={this.onCheck}\r\n                    >\r\n                        {this.treeNodes}\r\n                    </Tree>\r\n                </Item>\r\n            </Form>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {\r\n    Card,\r\n    Input,\r\n    Button,\r\n    Table,\r\n    message,\r\n    Modal,\r\n    Form,\r\n} from \"antd\"\r\nimport {PageSize} from \"../../init/init\"\r\nimport { reqAddrole, reqRoles } from \"../../api\"\r\nimport {reqUpdateRole,reqRemoveRole} from \"../../api/index\"\r\nimport storageutils from \"../../utils/storageutils\"\r\nimport UpdateRole from \"./updateRole\"\r\nexport default class Role extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.menus = React.createRef()\r\n    }\r\n    state = {\r\n        addvisible: false,\r\n        loading: true,\r\n        roles: [],  //存放所有角色\r\n        role:[],    //存放角色\r\n        selectedRowKeys:[],\r\n        showUpdate:false,\r\n\r\n    }\r\n    UNSAFE_componentWillMount() {\r\n        this.getRoles()\r\n    }\r\n    columns = [\r\n        {\r\n            title: '角色名称',\r\n            dataIndex: 'name',\r\n        },\r\n        {\r\n            title: '创建时间',\r\n            dataIndex: 'create_time',\r\n            render: (create_time) => {\r\n                return new Date(create_time).toLocaleString()\r\n            }\r\n        },\r\n        {\r\n            title: '授权时间',\r\n            dataIndex: 'auth_time',\r\n            render: (auth_time) => {\r\n                return new Date(auth_time).toLocaleString()\r\n            }\r\n        },\r\n        {\r\n            title: '授权人',\r\n            dataIndex: 'auth_name',\r\n        }\r\n    ];\r\n\r\n    getRoles = async () => {\r\n        const result = await reqRoles()\r\n        console.log(result);\r\n        const { data, msg, status } = result;\r\n        if (status === 0) {\r\n            this.setState({\r\n                loading: false,\r\n                roles: data\r\n            })\r\n            message.success(msg)\r\n        }\r\n    }\r\n    addRole = e => {\r\n        this.form.props.form.validateFields(async (err, values) => {\r\n            if (!err) {\r\n                this.setState({\r\n                    loading:true\r\n                })\r\n                const result = await reqAddrole(values)\r\n                const {  msg, status } = result;\r\n                if (status === 0) {\r\n                    this.getRoles()\r\n                    message.success(msg)\r\n                    this.setState({\r\n                        addvisible: false\r\n                    })\r\n                } else {\r\n                    message.error(msg)\r\n                }\r\n            }\r\n        })\r\n    }\r\n    updateRole=async ()=>{\r\n        const {role}=this.state;\r\n        const user = storageutils.getUser()\r\n        role.auth_time =new Date()\r\n        role.menus = this.menus.current.state.checkedKeys\r\n        role.auth_name = user.username\r\n        console.log(user,role);\r\n        \r\n        const result=await reqUpdateRole(role)\r\n        const {status,msg,data}=result\r\n        if(user.role_id===role._id){\r\n            message.success('登录用户的权限已经修改')\r\n            storageutils.removeUser()\r\n            this.props.history.replace('/login')\r\n        }else if(status===0){\r\n            message.success(msg)\r\n            this.setState({\r\n                showUpdate:false\r\n            })\r\n            this.getRoles()\r\n        }else{\r\n            message.error(msg)\r\n            console.log(data);         \r\n        }\r\n\r\n    }\r\n    removeRole=async ()=>{\r\n        const {selectedRowKeys}=this.state\r\n        const result=await reqRemoveRole(selectedRowKeys)\r\n        const {status,msg}=result;\r\n        if(status===0){\r\n            this.getRoles()\r\n            message.success(msg)    \r\n        }else{\r\n            message.error(msg)\r\n        }\r\n    }\r\n    onRow=role=>({\r\n       onClick:()=>{\r\n        this.setState({\r\n            selectedRowKeys:role._id,\r\n            role:role\r\n        })\r\n        console.log(this.state.role);\r\n    }\r\n    })\r\n    handleCancel = () => {\r\n        this.setState({\r\n            addvisible: false,\r\n            showUpdate:false\r\n        })\r\n    }\r\n    render() {\r\n        const { roles, loading,selectedRowKeys,role} = this.state\r\n        const title = (\r\n            <span>\r\n                <Button type='primary' icon={'plus'} onClick={() => { this.setState({ addvisible: true }) }}>添加角色</Button>\r\n                <Button type='primary' style={{ margin: 10 }} disabled={!role._id} onClick={() => { this.setState({ showUpdate: true }) }}>设置角色权限</Button>\r\n                <Button type='primary' icon={'delete'} onClick={this.removeRole}>删除角色</Button>\r\n            </span>\r\n        )\r\n        return (\r\n            <Card title={title}>\r\n                <Table\r\n                    dataSource={roles}  //数据源\r\n                    columns={this.columns}       //每列的信息\r\n                    rowKey='_id'        //必须要有的\r\n                    loading={loading}      //设置数据是否在加载中\r\n                    bordered\r\n                    pagination={{ defaultPageSize: PageSize }}    //配置分页器\r\n                    rowSelection={{\r\n                        type: \"radio\",\r\n                        selectedRowKeys:selectedRowKeys,\r\n                        }\r\n                    }\r\n                    onRow={this.onRow}\r\n                />;\r\n                <Modal\r\n                    title=\"请添加角色\"\r\n                    visible={this.state.addvisible}\r\n                    onOk={this.addRole}\r\n                    onCancel={this.handleCancel}\r\n                >\r\n                    <AddRole wrappedComponentRef={(form) => this.form = form} />\r\n                </Modal>\r\n                <Modal\r\n                    title=\"请修改角色\"\r\n                    visible={this.state.showUpdate}\r\n                    onOk={this.updateRole}\r\n                    onCancel={this.handleCancel}\r\n                >\r\n                    <UpdateRole ref={this.menus} role={role}/>\r\n                </Modal>\r\n            </Card>\r\n        )\r\n    }\r\n}\r\nclass AddRole extends Component {\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form\r\n        return (\r\n            <Form>\r\n                <Form.Item>\r\n                    {\r\n                        getFieldDecorator('roleName', {\r\n                            rules: [\r\n                                { required: true, message: '角色名不能为空' }\r\n                            ]\r\n                        })(\r\n                            <Input placeholder='请输入角色名称' />\r\n                        )\r\n                    }\r\n\r\n                </Form.Item>\r\n            </Form>\r\n        )\r\n    }\r\n}\r\nAddRole = Form.create()(AddRole);\r\n","import React, { Component } from 'react'\r\nimport { Card ,Button} from \"antd\"\r\nimport ReactEcharts from 'echarts-for-react';\r\nexport default class Bar extends Component {\r\n\r\n    state = {\r\n        books: [1000, 2000, 1500, 3000, 2000, 1200, 800],//预订量\r\n        sales: [800, 1500, 1300, 2800, 1500, 1000, 500],   //销量\r\n    }\r\n    getOption = () => {\r\n        let options = {\r\n            title: {\r\n                text: '柱形图-1',\r\n                textStyle: {\r\n                    color: 'pink'\r\n                }\r\n\r\n            },\r\n            legend: {//图例组件\r\n                data: ['存货'],\r\n                icon: 'circle'\r\n\r\n            },\r\n            tooltip: {  //提示框组件\r\n                trigger: 'axis'\r\n            },\r\n            xAxis: {\r\n                data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],\r\n            },\r\n            yAxis: {},\r\n            series: [\r\n                {\r\n                    name: '存货',\r\n                    type: 'bar', //柱形图\r\n                    data: [1000, 2000, 1500, 3000, 2000, 1200, 800]\r\n                }\r\n            ]\r\n        }\r\n        return options\r\n\r\n    }\r\n    getOption2 = (books, sales) => {\r\n        let options = {\r\n            title: {\r\n                text: '柱形图-2',\r\n                textStyle: {\r\n                    color: 'pink'\r\n                }\r\n\r\n            },\r\n            legend: {//图例组件\r\n                data: ['订单量', '销量'],\r\n                icon: 'circle'\r\n\r\n            },\r\n            tooltip: {  //提示框组件\r\n                trigger: 'axis'\r\n            },\r\n            xAxis: {\r\n                data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],\r\n            },\r\n            yAxis: {},\r\n            series: [    //数据源\r\n                {\r\n                    name: '订单量',\r\n                    type: 'bar', //柱形图\r\n                    data: books\r\n                },\r\n                {\r\n                    name: '销量',\r\n                    type: 'bar', //柱形图\r\n                    data: sales\r\n                }\r\n            ]\r\n        }\r\n        return options\r\n    }\r\n    updata = ()=>{\r\n        this.setState(state=>({\r\n            books:state.books.map(item=>item+100),\r\n            sales:state.sales.map(item=>item-20),\r\n        }))\r\n    }\r\n    render() {\r\n        const title = <Button type={'primary'} onClick={this.updata}>更新数据</Button>\r\n        const {books,sales} = this.state\r\n        return (\r\n            <div>\r\n            <Card>\r\n                <ReactEcharts option={this.getOption()}/>\r\n            </Card>\r\n            <Card title={title}>\r\n                <ReactEcharts option={this.getOption2(books, sales)} />\r\n            </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport ReactEcharts from 'echarts-for-react';\r\n// import echarts from 'echarts';\r\nimport {\r\n    Card,\r\n    Button\r\n} from 'antd'\r\n\r\nexport default class Line extends Component {\r\n\r\n    state = {\r\n        books:[1000,2000,1500,3000,2000,1200,800],//预订量\r\n        sales:[800,1500,1300,2800,1500,1000,500],   //销量\r\n    }\r\n    getOption1 = ()=>{\r\n        let options = {\r\n            title:{\r\n                text:'折线图-1',\r\n                textStyle:{\r\n                    color:'pink'\r\n                }\r\n\r\n            },\r\n            legend: {//图例组件\r\n                data: ['存货'],\r\n                icon:'circle'\r\n\r\n            },\r\n            tooltip: {  //提示框组件\r\n                trigger: 'axis'\r\n            },\r\n            xAxis:{\r\n                data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],\r\n            },\r\n            yAxis:{},\r\n            series:[\r\n                {\r\n                    name:'存货',\r\n                    type:'line', //柱形图\r\n                    data:[1000,2000,1500,3000,2000,1200,800]\r\n                }\r\n            ]\r\n        }\r\n        return options\r\n    }\r\n\r\n\r\n    getOption2 = (books,sales)=>{\r\n        let options = {\r\n            title:{\r\n                text:'折线图-2',\r\n                textStyle:{\r\n                    color:'pink'\r\n                }\r\n\r\n            },\r\n            legend: {//图例组件\r\n                data: ['订单量','销量'],\r\n                icon:'circle'\r\n\r\n            },\r\n            tooltip: {  //提示框组件\r\n                trigger: 'axis'\r\n            },\r\n            xAxis:{\r\n                data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],\r\n            },\r\n            yAxis:{},\r\n            series:[    //数据源\r\n                {\r\n                    name:'订单量',\r\n                    type:'line',\r\n                    data:books\r\n                },\r\n                {\r\n                    name:'销量',\r\n                    type:'line',\r\n                    data:sales\r\n                }\r\n            ]\r\n        }\r\n        return options\r\n    }\r\n\r\n    update = ()=>{\r\n        this.setState(state=>({\r\n            books:state.books.map(item=>item+100),\r\n            sales:state.sales.map(item=>item-20),\r\n        }))\r\n    }\r\n    render() {\r\n        const title = <Button type={'primary'} onClick={this.update}>更新数据</Button>\r\n        const {books,sales} = this.state\r\n        return (\r\n            <div>\r\n                <Card>\r\n                    <ReactEcharts option={this.getOption1()} />\r\n                </Card>\r\n                <Card title={title}>\r\n                    <ReactEcharts option={this.getOption2(books,sales)} />\r\n                </Card>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport ReactEcharts from 'echarts-for-react';\r\n// import echarts from 'echarts';\r\nimport {\r\n    Card,\r\n} from 'antd'\r\n\r\nexport default class Pie extends Component {\r\n\r\n    getOption1 = ()=>{\r\n        let options = {\r\n            title:{\r\n                text:'饼图-1',\r\n                textStyle:{\r\n                    color:'pink'\r\n                },\r\n                // x:'center'\r\n\r\n            },\r\n            legend: {//图例组件\r\n                data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],\r\n                icon:'circle',\r\n                orient:'vertical',\r\n                right:20,\r\n                top:20,\r\n            },\r\n            tooltip: {  //提示框组件\r\n                trigger: 'item',\r\n                formatter:'{a}<br/>{b}:{c}({d}%)'\r\n            },\r\n            series:[\r\n                {\r\n                    name:'存货',  //{a}\r\n                    type:'pie', //柱形图\r\n                    data:[{\r\n                        value:1000, //{c}\r\n                        name:'周一' //在折线的后面添加文字  {b}\r\n                    },{\r\n                        value:2000,\r\n                        name:'周二'\r\n                    },{\r\n                        value:1500,\r\n                        name:'周三'\r\n                    },{\r\n                        value:3000,\r\n                        name:'周四'\r\n                    },{\r\n                        value:1200,\r\n                        name:'周五'\r\n                    },{\r\n                        value:2000,\r\n                        name:'周六'\r\n                    },{\r\n                        value:800,\r\n                        name:'周日'\r\n                    }]\r\n                }\r\n            ]\r\n        }\r\n        return options\r\n    }\r\n\r\n    getOption2 = ()=>{\r\n        let options = {\r\n            title:{\r\n                text:'饼图-2',\r\n                textStyle:{\r\n                    color:'pink'\r\n                },\r\n                // x:'center'\r\n\r\n            },\r\n            legend: {//图例组件\r\n                data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],\r\n                icon:'circle',\r\n                orient:'vertical',\r\n                right:20,\r\n                top:20,\r\n\r\n            },\r\n            tooltip: {  //提示框组件\r\n                trigger: 'item',\r\n                formatter:'{a}<br/>{b}:{c}({d}%)'\r\n            },\r\n            series:[\r\n                {\r\n                    name:'存货',  //{a}\r\n                    type:'pie', //柱形图\r\n                    // radius:['50%','70%'], 配置圆环\r\n                    roseType:'radius',\r\n\r\n                    data:[{\r\n                        value:1000,  //{c}\r\n                        name:'周一' //在折线的后面添加文字  {b}\r\n                    },{\r\n                        value:2000,\r\n                        name:'周二'\r\n                    },{\r\n                        value:1500,\r\n                        name:'周三'\r\n                    },{\r\n                        value:3000,\r\n                        name:'周四'\r\n                    },{\r\n                        value:1200,\r\n                        name:'周五'\r\n                    },{\r\n                        value:2000,\r\n                        name:'周六'\r\n                    },{\r\n                        value:800,\r\n                        name:'周日'\r\n                    }].sort((a,b)=>a.value-b.value)\r\n                }\r\n            ]\r\n        }\r\n        return options\r\n    }\r\n\r\n\r\n    getOption3 = ()=>{\r\n        let options = {\r\n            title:{\r\n                text:'饼图-3',\r\n                textStyle:{\r\n                    color:'pink'\r\n                },\r\n                // x:'center'\r\n            },\r\n            legend: {//图例组件\r\n                data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],\r\n                icon:'circle',\r\n                orient:'vertical',\r\n                right:20,\r\n                top:20,\r\n\r\n            },\r\n            tooltip: {  //提示框组件\r\n                trigger: 'item',\r\n                formatter:'{a}<br/>{b}:{c}({d}%)'\r\n            },\r\n            series:[\r\n                {\r\n                    name:'存货',  //{a}\r\n                    type:'pie', //柱形图\r\n                    radius:['50%','70%'], //配置圆环\r\n                    // roseType:'radius',\r\n\r\n                    data:[{\r\n                        value:1000,  //{c}\r\n                        name:'周一' //在折线的后面添加文字  {b}\r\n                    },{\r\n                        value:2000,\r\n                        name:'周二'\r\n                    },{\r\n                        value:1500,\r\n                        name:'周三'\r\n                    },{\r\n                        value:3000,\r\n                        name:'周四'\r\n                    },{\r\n                        value:1200,\r\n                        name:'周五'\r\n                    },{\r\n                        value:2000,\r\n                        name:'周六'\r\n                    },{\r\n                        value:800,\r\n                        name:'周日'\r\n                    }]\r\n                }\r\n            ]\r\n        }\r\n        return options\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Card>\r\n                    <ReactEcharts option={this.getOption1()} />\r\n                </Card>\r\n                <Card>\r\n                    <ReactEcharts option={this.getOption2()} />\r\n                </Card>\r\n                <Card>\r\n                    <ReactEcharts option={this.getOption3()} />\r\n                </Card>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport StorageUtils from \"../../utils/storageutils\"\r\nimport {Redirect,Switch,Route} from \"react-router-dom\"\r\nimport { Layout, } from 'antd';\r\nimport LeftNav from\"../../commponents/left-nav/left-nav\"\r\nimport Header from\"../../commponents/header/header\"\r\nimport Home from \"../home/Home\"\r\nimport Category from \"../category/Category\"\r\nimport Product from \"../product/Product\"\r\nimport User from \"../user/User\"\r\nimport Role from \"../role/Role\"\r\nimport Bar from \"../charts/Bar\"\r\nimport Line from \"../charts/Line\"\r\nimport Pie from \"../charts/Pie\"\r\n\r\n//所有的import关键词必须在整个文件的最前面\r\nconst { Footer,Content} = Layout;\r\n\r\nexport default class admin extends Component {\r\n    state = {\r\n        collapsed: false,\r\n      };\r\n      onCollapse = collapsed => {\r\n        this.setState({ collapsed });\r\n      };\r\n    UNSAFE_componentWillMount(){\r\n    }\r\n    render() {\r\n         const user= StorageUtils.getUser()\r\n        console.log(document.body.offsetHeight,123456);\r\n        if(!user._id){\r\n            //也可以用  this.props.history.push(\"/login\")\r\n            return <Redirect to=\"/login\"/>\r\n        }\r\n        return (\r\n                <Layout style={{height:\"100%\"}}>                   \r\n                        <LeftNav></LeftNav>\r\n                    <Layout>\r\n                        <Header/>\r\n                        <Content >\r\n                        <Switch>\r\n                            <Route path='/admin/home' component={Home}/>\r\n                            <Route path='/admin/category' component={Category}/>\r\n                            <Route path='/admin/product' component={Product}/>\r\n                            <Route path='/admin/user' component={User}/>\r\n                            <Route path='/admin/role' component={Role}/>\r\n                            <Route path='/admin/charts/bar' component={Bar}/>\r\n                            <Route path='/admin/charts/line' component={Line}/>\r\n                            <Route path='/admin/charts/pie' component={Pie}/>\r\n                        </Switch>\r\n                        </Content>\r\n                        <Footer style={{ textAlign: 'center',bottom:\"0px\"}}>王洽肥 备案/许可证编号为：苏ICP备19073597号  2019-12-19</Footer>\r\n                    </Layout>\r\n                </Layout>\r\n           \r\n        )\r\n    }\r\n}\r\n","import React, { Component} from 'react';\nimport {Switch,Route,BrowserRouter,Redirect} from \"react-router-dom\"\nimport Login from './pages/login/Login';\nimport admin from './pages/admin/admin';\nexport default class App extends Component{\n    render() {\n        return (\n            <BrowserRouter>\n                <Switch>\n                    <Route path=\"/login\" component={Login}></Route>\n                    <Route path=\"/admin\" component={admin}></Route>\n                    <Redirect path to=\"/login\"/>\n                </Switch>\n            </BrowserRouter>\n        )\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App/>, document.getElementById('box'));\n"],"sourceRoot":""}